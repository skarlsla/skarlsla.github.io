<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title></title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://skarlsla.github.io/"/>
  <updated>2023-02-10T06:01:33.873Z</updated>
  <id>https://skarlsla.github.io/</id>
  
  <author>
    <name>NamGi YOON</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>[í…”ë ˆê·¸ë¨ ë´‡] Go Telegram Bot With Golang</title>
    <link href="https://skarlsla.github.io/2023/02/10/telegrambot-start1/"/>
    <id>https://skarlsla.github.io/2023/02/10/telegrambot-start1/</id>
    <published>2023-02-10T05:24:30.000Z</published>
    <updated>2023-02-10T06:01:33.873Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ì‹œì‘í•˜ê¸°"><a href="#ì‹œì‘í•˜ê¸°" class="headerlink" title="ì‹œì‘í•˜ê¸°"></a>ì‹œì‘í•˜ê¸°</h3><ol><li>API ë°›ê¸° ë° botìƒì„±</li></ol><p>ğŸ‘‰ğŸ»<a href="https://telegram.me/BotFather" target="_blank" rel="noopener">BotFather</a></p><p>/help ëª…ë ¹ì–´ë¥¼ í†µí•´ ê°€ëŠ¥í•œ ê¸°ëŠ¥ë“¤ í™•ì¸<br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/botfather.JPG" alt="father"><br>/newbot ìœ¼ë¡œ ìƒì„±í•´ì„œ ìˆœì„œëŒ€ë¡œ ì‹œí‚¤ëŠ”ëŒ€ë¡œ í•˜ë©´ í† í°ì´ ë‚˜ì˜¨ë‹¤.</p><ol start="2"><li>Library Example ë”°ë¼í•˜ê¸°</li></ol><p><a href="https://github.com/mymmrac/telego" target="_blank" rel="noopener">https://github.com/mymmrac/telego</a></p><p>ë°ì´í„° ìˆ˜ì‹ ë°©ë²• 2ê°€ì§€</p><p>using long polling (bot.UpdatesViaLongPolling)<br>using webhook (bot.UpdatesViaWebhook)</p><p>ìœ í‹¸ì„ ì‚¬ìš©í•´ì„œ ë©”ì‹œì§€ë§ê³  ë‹¤ì–‘í•œ í˜•íƒœë¡œ ë³´ë‚¼ìˆ˜ìˆë‹¤.</p><p>Message(chatID, text) =&gt; SendMessageParams<br>Photo(chatID, photoFile) =&gt; SendPhotoParams<br>Location(chatID, latitude, longitude) =&gt; SendLocationParams<br>â€¦<br>Or other useful methods like:</p><p>ID(intID) =&gt; ChatID<br>File(namedReader) =&gt; InputFile<br>â€¦</p><p>ì±„íŒ…ë°© Input ê¸°ëŠ¥</p><p>/ëª…ë ¹ì–´  , í‚¤ë³´ë“œë²„íŠ¼, ì¸ë¼ì¸ë²„íŠ¼ </p><p>ì˜ˆì œì—ëŠ” Botê³¼ì˜ Interaction ê¸°ëŠ¥ ,ì™¸ë¶€ ì„œë²„ì™€ Integration ê¸°ëŠ¥ì€ ì—†ë‹¤. </p><ol start="3"><li>ì‹¤ì „ì†ŒìŠ¤ with Golang</li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">"fmt"</span></span><br><span class="line"><span class="string">"io"</span></span><br><span class="line"><span class="string">"os"</span></span><br><span class="line"><span class="string">"strconv"</span></span><br><span class="line"></span><br><span class="line"><span class="string">"github.com/mymmrac/telego"</span></span><br><span class="line">th <span class="string">"github.com/mymmrac/telego/telegohandler"</span></span><br><span class="line">tu <span class="string">"github.com/mymmrac/telego/telegoutil"</span></span><br><span class="line">log <span class="string">"github.com/sirupsen/logrus"</span></span><br><span class="line"><span class="string">"gopkg.in/natefinch/lumberjack.v2"</span></span><br><span class="line"></span><br><span class="line">)</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">botToken := <span class="string">"6048725563:xxxx"</span> <span class="comment">// set token</span></span><br><span class="line"></span><br><span class="line">bot, err := telego.NewBot(botToken)  <span class="comment">// telego ìƒì„±</span></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">fmt.Println(err)</span><br><span class="line">os.Exit(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Get updates channel</span></span><br><span class="line">updates, _ := bot.UpdatesViaLongPolling(<span class="literal">nil</span>)  <span class="comment">// í´ë§ë°©ì‹ìœ¼ë¡œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Create bot handler and specify from where to get updates</span></span><br><span class="line">bh, _ := th.NewBotHandler(bot, updates)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Stop handling updates</span></span><br><span class="line"><span class="keyword">defer</span> bh.Stop()</span><br><span class="line"></span><br><span class="line"><span class="comment">// Stop getting updates</span></span><br><span class="line"><span class="keyword">defer</span> bot.StopLongPolling()</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ì¸ë¼ì¸ í‚¤ë³´ë“œ ìƒì„± EXAM</span></span><br><span class="line">inlineInit := tu.InlineKeyboard(</span><br><span class="line">tu.InlineKeyboardRow(   <span class="comment">// í•œì¤„</span></span><br><span class="line">tu.InlineKeyboardButton(<span class="string">"ë²„íŠ¼ì´ë¦„"</span>).WithCallbackData(<span class="string">"ì½œë°±ì™”ì„ë•Œ êµ¬ë¶„ê°’"</span>), <span class="comment">//ë²„íŠ¼</span></span><br><span class="line">),</span><br><span class="line">tu.InlineKeyboardRow(    <span class="comment">// ë‘ì¤„</span></span><br><span class="line">tu.InlineKeyboardButton(<span class="string">"ë²„íŠ¼ì´ë¦„"</span>).WithCallbackData(<span class="string">"ì½œë°±ì™”ì„ë•Œ êµ¬ë¶„ê°’"</span>),</span><br><span class="line">tu.InlineKeyboardButton(<span class="string">"ë²„íŠ¼ì´ë¦„"</span>).WithCallbackData(<span class="string">"ì½œë°±ì™”ì„ë•Œ êµ¬ë¶„ê°’"</span>),</span><br><span class="line">),</span><br><span class="line">)</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Register new handler with match on command `/start`</span></span><br><span class="line">bh.HandleMessage(<span class="function"><span class="keyword">func</span><span class="params">(bot *telego.Bot, message telego.Message)</span></span> &#123;</span><br><span class="line">    <span class="comment">// Send message with inline keyboard</span></span><br><span class="line">    <span class="keyword">var</span> introduce = <span class="string">"Welcome ~"</span></span><br><span class="line"></span><br><span class="line">_, _ = bot.SendMessage(tu.Messagef(</span><br><span class="line">tu.ID(id),</span><br><span class="line">fmt.Sprintf(<span class="string">"Hello %s! \n%s"</span>, name, introduce),</span><br><span class="line">))</span><br><span class="line"></span><br><span class="line">params := &amp;telego.SendPhotoParams&#123;</span><br><span class="line">ChatID:      tu.ID(id),</span><br><span class="line">Photo:       tu.FileByURL(<span class="string">"any picture.png"</span>),  <span class="comment">// ê·¸ë¦¼ë„ ë‚´ë³´ë‚´ê¸°</span></span><br><span class="line">ReplyMarkup: inlineInit, <span class="comment">// ì¸ë¼ì¸ ë²„íŠ¼ ë‚´ë³´ë‚´ê¸°</span></span><br><span class="line">&#125;</span><br><span class="line">_, _ = bot.SendPhoto(params)</span><br><span class="line">&#125;, th.CommandEqual(<span class="string">"start"</span>)) <span class="comment">//  ë´‡ì±„íŒ…ë°©ì—ì„œ ì…ë ¥í•œ ì»¤ë§¨ë“œ ëª…ë ¹ì–´ê°€ startì¼ë•Œ</span></span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//inline button click ì‹œ  callback ì²˜ë¦¬</span></span><br><span class="line">bh.HandleCallbackQuery(<span class="function"><span class="keyword">func</span><span class="params">(bot *telego.Bot, query telego.CallbackQuery)</span></span> &#123;</span><br><span class="line">    <span class="comment">// í›„ì²˜ë¦¬</span></span><br><span class="line">&#125;, th.AnyCallbackQueryWithMessage(), th.CallbackDataEqual(<span class="string">"ì½œë°±ì™”ì„ë•Œ êµ¬ë¶„ê°’"</span>))</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// inline buttonì— ì›¹ì•± ë§í¬ê±¸ê¸°</span></span><br><span class="line">tu.InlineKeyboardButton(<span class="string">"Open the Webapp"</span>).WithWebApp(&amp;telego.WebAppInfo&#123;URL: uri&#125;),</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;ì‹œì‘í•˜ê¸°&quot;&gt;&lt;a href=&quot;#ì‹œì‘í•˜ê¸°&quot; class=&quot;headerlink&quot; title=&quot;ì‹œì‘í•˜ê¸°&quot;&gt;&lt;/a&gt;ì‹œì‘í•˜ê¸°&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;API ë°›ê¸° ë° botìƒì„±&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ğŸ‘‰ğŸ»&lt;a href=&quot;https://telegr
      
    
    </summary>
    
      <category term="bot" scheme="https://skarlsla.github.io/categories/bot/"/>
    
    
      <category term="telegram" scheme="https://skarlsla.github.io/tags/telegram/"/>
    
      <category term="Telegram Bot" scheme="https://skarlsla.github.io/tags/Telegram-Bot/"/>
    
      <category term="í…”ë ˆê·¸ë¨" scheme="https://skarlsla.github.io/tags/%ED%85%94%EB%A0%88%EA%B7%B8%EB%9E%A8/"/>
    
      <category term="í…”ë ˆê·¸ë¨ ë´‡" scheme="https://skarlsla.github.io/tags/%ED%85%94%EB%A0%88%EA%B7%B8%EB%9E%A8-%EB%B4%87/"/>
    
      <category term="telegram go" scheme="https://skarlsla.github.io/tags/telegram-go/"/>
    
  </entry>
  
  <entry>
    <title>[í…”ë ˆê·¸ë¨ ë´‡] Telegram Bot Architecture Diagram</title>
    <link href="https://skarlsla.github.io/2023/02/10/telegrambot-architecture/"/>
    <id>https://skarlsla.github.io/2023/02/10/telegrambot-architecture/</id>
    <published>2023-02-10T05:24:30.000Z</published>
    <updated>2023-02-10T05:54:44.618Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Architecture-Diagram"><a href="#Architecture-Diagram" class="headerlink" title="Architecture Diagram"></a>Architecture Diagram</h3><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/telegrambot_common.jpg" alt="telegram bot"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Architecture-Diagram&quot;&gt;&lt;a href=&quot;#Architecture-Diagram&quot; class=&quot;headerlink&quot; title=&quot;Architecture Diagram&quot;&gt;&lt;/a&gt;Architecture Diagram&lt;/h3&gt;&lt;
      
    
    </summary>
    
      <category term="bot" scheme="https://skarlsla.github.io/categories/bot/"/>
    
    
      <category term="telegram" scheme="https://skarlsla.github.io/tags/telegram/"/>
    
      <category term="Telegram Bot" scheme="https://skarlsla.github.io/tags/Telegram-Bot/"/>
    
      <category term="í…”ë ˆê·¸ë¨" scheme="https://skarlsla.github.io/tags/%ED%85%94%EB%A0%88%EA%B7%B8%EB%9E%A8/"/>
    
      <category term="í…”ë ˆê·¸ë¨ ë´‡" scheme="https://skarlsla.github.io/tags/%ED%85%94%EB%A0%88%EA%B7%B8%EB%9E%A8-%EB%B4%87/"/>
    
      <category term="telegram go" scheme="https://skarlsla.github.io/tags/telegram-go/"/>
    
  </entry>
  
  <entry>
    <title>[TYPESCRIPT] íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ë””ìì¸ íŒ¨í„´ - Factory</title>
    <link href="https://skarlsla.github.io/2022/01/03/pattern-factory/"/>
    <id>https://skarlsla.github.io/2022/01/03/pattern-factory/</id>
    <published>2022-01-03T07:35:30.000Z</published>
    <updated>2022-02-03T08:54:09.994Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Factory-Pattern"><a href="#Factory-Pattern" class="headerlink" title="Factory Pattern"></a>Factory Pattern</h3><p>The factory pattern is one of the creational software design patterns. </p><p>Creational: ì˜¤ë¸Œì íŠ¸ì˜ ìƒì„±ì„ ë‹¤ë£¨ëŠ”</p><p><strong>ì´ì </strong></p><ol><li>ê°ì²´ ìƒì„± í”„ë¡œì„¸ìŠ¤ê°€ ë³µì¡í•œ ìƒí™©ì´ë‚˜ ë™ì¼í•œ ì†ì„±ì„ ê³µìœ í•˜ëŠ” ì—¬ëŸ¬ ê°ì²´ê°€ ìƒì„±ë˜ëŠ” ìƒí™©ì—ì„œ ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li></ol><p>ì˜ˆì œ<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// mavelfactory.ts</span></span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">MavelFactory</span> </span>&#123;</span><br><span class="line">  private name: string;</span><br><span class="line">  private power: number;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">constructor</span>(name: string, power: number) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.power = power;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  introduce() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Hello, I am <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>.`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">createHero</span>(<span class="params">name: string, power: number</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> HeroFactory(name, power);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ì‹¤í–‰<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app.ts</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> mavelfactory <span class="keyword">from</span> <span class="string">'./mavelfactory'</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> spiderman = heroFactory.createHero(<span class="string">'Peter'</span>, <span class="number">100</span>);</span><br><span class="line">spiderman.introduce(); </span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> ironman = heroFactory.createHero(<span class="string">'Stark'</span>, <span class="number">100</span>);</span><br><span class="line">ironman.introduce();</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Factory-Pattern&quot;&gt;&lt;a href=&quot;#Factory-Pattern&quot; class=&quot;headerlink&quot; title=&quot;Factory Pattern&quot;&gt;&lt;/a&gt;Factory Pattern&lt;/h3&gt;&lt;p&gt;The factory patter
      
    
    </summary>
    
      <category term="patterns" scheme="https://skarlsla.github.io/categories/patterns/"/>
    
    
      <category term="typescript" scheme="https://skarlsla.github.io/tags/typescript/"/>
    
      <category term="pattern" scheme="https://skarlsla.github.io/tags/pattern/"/>
    
      <category term="Factory" scheme="https://skarlsla.github.io/tags/Factory/"/>
    
  </entry>
  
  <entry>
    <title>[TYPESCRIPT] íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ë””ìì¸ íŒ¨í„´ - Facade</title>
    <link href="https://skarlsla.github.io/2022/01/03/pattern-facade/"/>
    <id>https://skarlsla.github.io/2022/01/03/pattern-facade/</id>
    <published>2022-01-03T07:34:30.000Z</published>
    <updated>2022-02-03T08:54:43.530Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Facade-Pattern"><a href="#Facade-Pattern" class="headerlink" title="Facade Pattern"></a>Facade Pattern</h3><p>The faÃ§ade pattern is one of the structural software design patterns.</p><p>Structural: ê°ì²´ê°„ì˜ ê´€ê³„ë¥¼ ì²˜ë¦¬</p><p><strong>ì´ì </strong></p><ol><li>ì—¬ëŸ¬ì‹œìŠ¤í…œì„ í†µí•©í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ê°€ í•„ìš”í•œ ê²½ìš° ì‚¬ìš©.</li></ol><p>ì„œë¸Œì‹œìŠ¤í…œ1<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// subsystem1.ts</span></span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Contract</span> </span>&#123;</span><br><span class="line">  private contractTerminationDateexport <span class="class"><span class="keyword">class</span> <span class="title">Contract</span> </span>&#123;</span><br><span class="line">  private contractTerminationDate: <span class="built_in">Date</span>;</span><br><span class="line">  <span class="keyword">constructor</span>(terminationDate: Date) &#123;</span><br><span class="line">    <span class="keyword">this</span>.contractTerminationDate = terminationDate;</span><br><span class="line">  &#125;</span><br><span class="line">  checkActiveContract(date: <span class="built_in">Date</span>): boolean &#123;</span><br><span class="line">    <span class="keyword">if</span> (date &lt; <span class="keyword">this</span>.contractTerminationDate) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ì„œë¸Œì‹œìŠ¤í…œ2<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// subsystem2.ts</span></span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">TeamFunds</span> </span>&#123;</span><br><span class="line">  private totalFunds: number;</span><br><span class="line">  <span class="keyword">constructor</span>(total: number) &#123;</span><br><span class="line">    <span class="keyword">this</span>.totalFunds = total;</span><br><span class="line">  &#125;</span><br><span class="line">  checkFunds(transferFee: number): boolean &#123;</span><br><span class="line">    <span class="keyword">if</span> (transferFee &lt; <span class="keyword">this</span>.totalFunds) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>Facade íŒ¨í„´ìœ¼ë¡œ 2ê°œì˜ ì„œë¸Œ ì‹œìŠ¤í…œì„ í†µí•©í•˜ì—¬ ê¸°ëŠ¥ì œê³µ<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// facade.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; Contract &#125; <span class="keyword">from</span> <span class="string">'./subsystem1'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; TeamFunds &#125; <span class="keyword">from</span> <span class="string">'./subsystem2'</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Facade</span> </span>&#123;</span><br><span class="line">  private contract: Contract = <span class="keyword">new</span> Contract(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="keyword">new</span> <span class="built_in">Date</span>().setDate(<span class="keyword">new</span> <span class="built_in">Date</span>().getDate() + <span class="number">10</span>)));</span><br><span class="line">  private funds: TeamFunds = <span class="keyword">new</span> TeamFunds(<span class="number">200000</span>);</span><br><span class="line"> </span><br><span class="line">  private playerContract: <span class="built_in">Date</span>;</span><br><span class="line">  private playerPrice: number;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">constructor</span>(playerPrice: number) &#123;</span><br><span class="line">    <span class="keyword">this</span>.playerContract = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    <span class="keyword">this</span>.playerPrice = playerPrice;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  buyPlayer(): <span class="keyword">void</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.contract.checkActiveContract(<span class="keyword">this</span>.playerContract)) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'Player has active contract'</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'Player has no active contract'</span>);</span><br><span class="line">      <span class="keyword">if</span> (!<span class="keyword">this</span>.funds.checkFunds(<span class="keyword">this</span>.playerPrice)) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Player is too expensive to buy.'</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Player can be bought.'</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ì‚¬ìš©ì‹œ<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; Facade &#125; <span class="keyword">from</span> <span class="string">'./facade'</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> facade: Facade = <span class="keyword">new</span> Facade(<span class="number">200001</span>);</span><br><span class="line">facade.buyPlayer();</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Facade-Pattern&quot;&gt;&lt;a href=&quot;#Facade-Pattern&quot; class=&quot;headerlink&quot; title=&quot;Facade Pattern&quot;&gt;&lt;/a&gt;Facade Pattern&lt;/h3&gt;&lt;p&gt;The faÃ§ade pattern is 
      
    
    </summary>
    
      <category term="patterns" scheme="https://skarlsla.github.io/categories/patterns/"/>
    
    
      <category term="typescript" scheme="https://skarlsla.github.io/tags/typescript/"/>
    
      <category term="pattern" scheme="https://skarlsla.github.io/tags/pattern/"/>
    
      <category term="Facade" scheme="https://skarlsla.github.io/tags/Facade/"/>
    
  </entry>
  
  <entry>
    <title>[TYPESCRIPT] íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ë””ìì¸ íŒ¨í„´ - Adapter</title>
    <link href="https://skarlsla.github.io/2022/01/03/pattern-adapter/"/>
    <id>https://skarlsla.github.io/2022/01/03/pattern-adapter/</id>
    <published>2022-01-03T07:24:30.000Z</published>
    <updated>2022-02-03T08:54:53.175Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Adapter-Pattern"><a href="#Adapter-Pattern" class="headerlink" title="Adapter Pattern"></a>Adapter Pattern</h3><p>The adapter pattern is one of the structural software design patterns.</p><p>Structural: ê°ì²´ê°„ì˜ ê´€ê³„ë¥¼ ì²˜ë¦¬</p><p><strong>ì´ì </strong></p><ol><li>í´ë¼ì´ì–¸íŠ¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³  ìƒˆë¡œìš´ ì‹œìŠ¤í…œì˜ ê¸°ëŠ¥ì„ ì œê³µí•˜ê²Œ í•œë‹¤.</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// adapter.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; IGeoCoder, GeoCoder &#125; <span class="keyword">from</span> <span class="string">'./impl-class'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Locator &#125; <span class="keyword">from</span> <span class="string">'./new-class'</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">GeocodingAdapter</span> <span class="title">implements</span> <span class="title">IGeoCoder</span> </span>&#123;</span><br><span class="line">  private latitude: number;</span><br><span class="line">  private longitude: number;</span><br><span class="line">  private type: string;</span><br><span class="line">  <span class="keyword">constructor</span>(latitude, longitude, type) &#123;</span><br><span class="line">    <span class="keyword">this</span>.latitude = latitude;</span><br><span class="line">    <span class="keyword">this</span>.longitude = longitude;</span><br><span class="line">    <span class="keyword">this</span>.type = type;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  locate(): string &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.type === <span class="string">'GeoCoder'</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> geocoder = <span class="keyword">new</span> GeoCoder(<span class="keyword">this</span>.latitude, <span class="keyword">this</span>.longitude);</span><br><span class="line">      <span class="keyword">return</span> geocoder.locate();</span><br><span class="line"> </span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.type === <span class="string">'Locator'</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> locator = <span class="keyword">new</span> Locator(<span class="keyword">this</span>.latitude, <span class="keyword">this</span>.longitude);</span><br><span class="line">      <span class="keyword">return</span> locator.geocode();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Please use either GeoCoder or Locator'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// client.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; GeocodingAdapter &#125; <span class="keyword">from</span> <span class="string">'./adapter'</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> gAdapter = <span class="keyword">new</span> GeocodingAdapter(<span class="number">51.5074</span>, <span class="number">0.1278</span>, <span class="string">'Locator'</span>);</span><br><span class="line"><span class="keyword">const</span> gAdapter2 = <span class="keyword">new</span> GeocodingAdapter(<span class="number">51.5074</span>, <span class="number">0.1278</span>, <span class="string">'GeoCoder'</span>);</span><br><span class="line"><span class="keyword">const</span> locationFromLocator = gAdapter.locate();</span><br><span class="line"><span class="keyword">const</span> locationFromGeoCoder = gAdapter2.locate();</span><br><span class="line"> </span><br><span class="line"><span class="built_in">console</span>.log(locationFromLocator);</span><br><span class="line"><span class="built_in">console</span>.log(locationFromGeoCoder);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Adapter-Pattern&quot;&gt;&lt;a href=&quot;#Adapter-Pattern&quot; class=&quot;headerlink&quot; title=&quot;Adapter Pattern&quot;&gt;&lt;/a&gt;Adapter Pattern&lt;/h3&gt;&lt;p&gt;The adapter patter
      
    
    </summary>
    
      <category term="patterns" scheme="https://skarlsla.github.io/categories/patterns/"/>
    
    
      <category term="typescript" scheme="https://skarlsla.github.io/tags/typescript/"/>
    
      <category term="Adapter" scheme="https://skarlsla.github.io/tags/Adapter/"/>
    
      <category term="pattern" scheme="https://skarlsla.github.io/tags/pattern/"/>
    
  </entry>
  
  <entry>
    <title>[JUMIO] JUMIO API FLOW </title>
    <link href="https://skarlsla.github.io/2021/08/04/jumio/"/>
    <id>https://skarlsla.github.io/2021/08/04/jumio/</id>
    <published>2021-08-04T03:50:55.000Z</published>
    <updated>2022-02-03T02:54:32.432Z</updated>
    
    <content type="html"><![CDATA[<h3 id="JUMIO-SDK-FLOW"><a href="#JUMIO-SDK-FLOW" class="headerlink" title="JUMIO SDK FLOW"></a>JUMIO SDK FLOW</h3><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/CRM_EVS.jpg" alt="FLOW"></p><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/CRM_EVS2.jpg" alt="FLOW"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;JUMIO-SDK-FLOW&quot;&gt;&lt;a href=&quot;#JUMIO-SDK-FLOW&quot; class=&quot;headerlink&quot; title=&quot;JUMIO SDK FLOW&quot;&gt;&lt;/a&gt;JUMIO SDK FLOW&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;https://raw.
      
    
    </summary>
    
      <category term="JUMIO" scheme="https://skarlsla.github.io/categories/JUMIO/"/>
    
    
      <category term="KYC" scheme="https://skarlsla.github.io/tags/KYC/"/>
    
      <category term="JUMIO SDK" scheme="https://skarlsla.github.io/tags/JUMIO-SDK/"/>
    
      <category term="AML" scheme="https://skarlsla.github.io/tags/AML/"/>
    
      <category term="JUMIO FLOW" scheme="https://skarlsla.github.io/tags/JUMIO-FLOW/"/>
    
  </entry>
  
  <entry>
    <title>[SUMSUB] SUBSUB API LIST &amp; FLOW </title>
    <link href="https://skarlsla.github.io/2021/06/04/sumsub/"/>
    <id>https://skarlsla.github.io/2021/06/04/sumsub/</id>
    <published>2021-06-04T02:53:45.000Z</published>
    <updated>2021-06-04T02:58:37.011Z</updated>
    
    <content type="html"><![CDATA[<h3 id="SUMSUB-SDK-TOKEN-FLOW-amp-API-LIST"><a href="#SUMSUB-SDK-TOKEN-FLOW-amp-API-LIST" class="headerlink" title="SUMSUB SDK TOKEN FLOW &amp; API LIST"></a>SUMSUB SDK TOKEN FLOW &amp; API LIST</h3><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/sumsub_flow.JPG" alt="FLOW"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;SUMSUB-SDK-TOKEN-FLOW-amp-API-LIST&quot;&gt;&lt;a href=&quot;#SUMSUB-SDK-TOKEN-FLOW-amp-API-LIST&quot; class=&quot;headerlink&quot; title=&quot;SUMSUB SDK TOKEN FLOW &amp;a
      
    
    </summary>
    
      <category term="SUMSUB" scheme="https://skarlsla.github.io/categories/SUMSUB/"/>
    
    
      <category term="KYC" scheme="https://skarlsla.github.io/tags/KYC/"/>
    
      <category term="AML" scheme="https://skarlsla.github.io/tags/AML/"/>
    
      <category term="SUMSUB SDK" scheme="https://skarlsla.github.io/tags/SUMSUB-SDK/"/>
    
      <category term="SUMSUB FLOW" scheme="https://skarlsla.github.io/tags/SUMSUB-FLOW/"/>
    
  </entry>
  
  <entry>
    <title>[AWS] ì„œë²„ë¦¬ìŠ¤ í”„ë ˆì„ì›Œí¬ ê°„ë‹¨í•œ ì˜ˆì œ(Serverless Framework Simple Example)</title>
    <link href="https://skarlsla.github.io/2020/02/11/aws-serverless-framework/"/>
    <id>https://skarlsla.github.io/2020/02/11/aws-serverless-framework/</id>
    <published>2020-02-11T07:43:15.000Z</published>
    <updated>2020-02-11T05:27:53.583Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Serverless-í”„ë ˆì„ì›Œí¬ëŠ”-ì„œë²„ë¦¬ìŠ¤-ì• í”Œë¦¬ì¼€ì´ì…˜ì„-ìƒì„±í•˜ê³ -ë°°í¬í•˜ê¸°-ìœ„í•´-í•„ìš”í•œ-ëª¨ë“ -ë„êµ¬ë“¤ì„-ì‰½ê²Œ-ê´€ë¦¬í• -ìˆ˜-ìˆëŠ”-íŒ¨í‚¤ì§€-í˜•íƒœë¡œ-ë¬¶ì–´ì„œ-ì œê³µí•œë‹¤"><a href="#Serverless-í”„ë ˆì„ì›Œí¬ëŠ”-ì„œë²„ë¦¬ìŠ¤-ì• í”Œë¦¬ì¼€ì´ì…˜ì„-ìƒì„±í•˜ê³ -ë°°í¬í•˜ê¸°-ìœ„í•´-í•„ìš”í•œ-ëª¨ë“ -ë„êµ¬ë“¤ì„-ì‰½ê²Œ-ê´€ë¦¬í• -ìˆ˜-ìˆëŠ”-íŒ¨í‚¤ì§€-í˜•íƒœë¡œ-ë¬¶ì–´ì„œ-ì œê³µí•œë‹¤" class="headerlink" title="Serverless í”„ë ˆì„ì›Œí¬ëŠ” ì„œë²„ë¦¬ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìƒì„±í•˜ê³  ë°°í¬í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ëª¨ë“  ë„êµ¬ë“¤ì„ ì‰½ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” íŒ¨í‚¤ì§€ í˜•íƒœë¡œ ë¬¶ì–´ì„œ ì œê³µí•œë‹¤."></a>Serverless í”„ë ˆì„ì›Œí¬ëŠ” ì„œë²„ë¦¬ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìƒì„±í•˜ê³  ë°°í¬í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ëª¨ë“  ë„êµ¬ë“¤ì„ ì‰½ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” íŒ¨í‚¤ì§€ í˜•íƒœë¡œ ë¬¶ì–´ì„œ ì œê³µí•œë‹¤.</h3><h3 id="serverless-cli-ë¥¼-ì´ìš©í•œ-ê°„ë‹¨í•œ-serverless-í…ŒìŠ¤íŠ¸"><a href="#serverless-cli-ë¥¼-ì´ìš©í•œ-ê°„ë‹¨í•œ-serverless-í…ŒìŠ¤íŠ¸" class="headerlink" title="serverless cli ë¥¼ ì´ìš©í•œ ê°„ë‹¨í•œ serverless í…ŒìŠ¤íŠ¸"></a>serverless cli ë¥¼ ì´ìš©í•œ ê°„ë‹¨í•œ serverless í…ŒìŠ¤íŠ¸</h3><p>node ì™€ npm ì„¤ì¹˜ ìƒëµâ€¦</p><p><strong>1. serverless cli ì„¤ì¹˜</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g serverless</span><br></pre></td></tr></table></figure></p><hr><p><strong>2. ì„œë¹„ìŠ¤/í”„ë¡œì íŠ¸ ìƒì„±</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">serverless</span><br><span class="line">Serverless: No project detected. Do you want to create a new one? Yes</span><br><span class="line">Serverless: What do you want to make? AWS Node.js </span><br><span class="line">Serverless: What do you want to call this project? sample</span><br><span class="line"> </span><br><span class="line">Project successfully created in &apos;sample&apos; folder.</span><br><span class="line">(node:30044) Warning: a promise was created in a handler at domain.js:121:23 but was not returned from it, see http://goo    at Object.ret [as lstatAsync] (eval at makeNodePromisifiedEval (C:\Users\DEV\AppData\Roaming\npm\node_modules\serverless\node_modules\bluebird\js\release\promisify.js:184:12), &lt;anonymous&gt;:8:21)</span><br><span class="line"> </span><br><span class="line">You can monitor, troubleshoot, and test your new service with a free Serverless account.</span><br><span class="line"> </span><br><span class="line">Serverless: Would you like to enable this? Yes</span><br><span class="line"> </span><br><span class="line">Serverless: What application do you want to add this to? (Use arrow keys)</span><br><span class="line">Serverless: What application do you want to add this to? myapp</span><br><span class="line"> </span><br><span class="line">Your project is setup for monitoring, troubleshooting and testing</span><br><span class="line"> </span><br><span class="line">Deploy your project and monitor, troubleshoot and test it:</span><br><span class="line">- Run â€œserverless deployâ€ to deploy your service.</span><br><span class="line">- Run â€œserverless dashboardâ€ to view the dashboard.</span><br></pre></td></tr></table></figure></p><hr><p><strong>3. ìƒ˜í”Œì†ŒìŠ¤</strong><br>handler.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&apos;use strict&apos;;</span><br><span class="line"> </span><br><span class="line">module.exports.hello = async event =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    statusCode: 200,</span><br><span class="line">    body: JSON.stringify(</span><br><span class="line">      &#123;</span><br><span class="line">        message: &apos;Go Serverless v1.0! Your function executed successfully!&apos;,</span><br><span class="line">        input: event,</span><br><span class="line">      &#125;,</span><br><span class="line">      null,</span><br><span class="line">      2</span><br><span class="line">    ),</span><br><span class="line">  &#125;;</span><br><span class="line"> </span><br><span class="line">  // Use this code if you don&apos;t use the http event with the LAMBDA-PROXY integration</span><br><span class="line">  // return &#123; message: &apos;Go Serverless v1.0! Your function executed successfully!&apos;, event &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>serverless.yml<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">service: sample</span><br><span class="line"> </span><br><span class="line">app: myapp</span><br><span class="line">org: skarlsla</span><br><span class="line"> </span><br><span class="line">provider:</span><br><span class="line">  name: aws</span><br><span class="line">  runtime: nodejs12.x</span><br><span class="line"> </span><br><span class="line">functions:</span><br><span class="line">  hello:</span><br><span class="line">    handler: handler.hello</span><br><span class="line">## endpoint ì¶”ê°€</span><br><span class="line">    events:</span><br><span class="line">      - http:</span><br><span class="line">          path: hello</span><br><span class="line">          method: post</span><br></pre></td></tr></table></figure></p><hr><p><strong>4. ë°°í¬(serverless deploy)</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">serverless deploy -v</span><br><span class="line">Serverless: Packaging service...</span><br><span class="line">Serverless: Excluding development dependencies...</span><br><span class="line">Serverless: Installing dependencies for custom CloudFormation resources...</span><br><span class="line">Serverless: Safeguards Processing...</span><br><span class="line">Serverless: Safeguards Results:</span><br><span class="line"> </span><br><span class="line">   Summary --------------------------------------------------</span><br><span class="line"> </span><br><span class="line">   warned - require-cfn-role</span><br><span class="line">   passed - allowed-runtimes</span><br><span class="line">   passed - framework-version</span><br><span class="line">   passed - allowed-stages</span><br><span class="line">   passed - allowed-regions</span><br><span class="line">   passed - no-unsafe-wildcard-iam-permissions</span><br><span class="line">   passed - no-secret-env-vars</span><br><span class="line"> </span><br><span class="line">   Details --------------------------------------------------</span><br><span class="line"> </span><br><span class="line">   1) Warned - no cfnRole set</span><br><span class="line">      details: http://slss.io/sg-require-cfn-role</span><br><span class="line">      Require the cfnRole option, which specifies a particular role for CloudFormation to assume while deploying.       </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">Serverless: Safeguards Summary: 6 passed, 1 warnings, 0 errors</span><br><span class="line">Serverless: Uploading CloudFormation file to S3...</span><br><span class="line">Serverless: Uploading artifacts...</span><br><span class="line">Serverless: Uploading service sample.zip file to S3 (68.29 KB)...</span><br><span class="line">Serverless: Uploading custom CloudFormation resources...</span><br><span class="line">Serverless: Validating template...</span><br><span class="line">Serverless: Updating Stack...</span><br><span class="line">Serverless: Checking Stack update progress...</span><br><span class="line">CloudFormation - UPDATE_IN_PROGRESS - AWS::CloudFormation::Stack - sample-dev</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::ApiGateway::RestApi - ApiGatewayRestApi</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::Logs::LogGroup - ApiGatewayLogGroup</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::IAM::Role - IamRoleCustomResourcesLambdaExecution</span><br><span class="line">CloudFormation - UPDATE_IN_PROGRESS - AWS::Lambda::Function - HelloLambdaFunction</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::IAM::Role - IamRoleCustomResourcesLambdaExecution</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::ApiGateway::RestApi - ApiGatewayRestApi</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::Logs::LogGroup - ApiGatewayLogGroup</span><br><span class="line">CloudFormation - CREATE_COMPLETE - AWS::ApiGateway::RestApi - ApiGatewayRestApi</span><br><span class="line">CloudFormation - CREATE_COMPLETE - AWS::Logs::LogGroup - ApiGatewayLogGroup</span><br><span class="line">CloudFormation - UPDATE_COMPLETE - AWS::Lambda::Function - HelloLambdaFunction</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::ApiGateway::Resource - ApiGatewayResourceHello</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::Lambda::Version - HelloLambdaVersiong6DbuZk46pqXfxgUZxqbVYYaGuA5hOV9bb2oYYmZCQCloudFormation - CREATE_IN_PROGRESS - AWS::Logs::SubscriptionFilter - CloudWatchLogsSubscriptionFilterApiGatewayLogGroup</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::Lambda::Permission - HelloLambdaPermissionApiGateway</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::Logs::SubscriptionFilter - CloudWatchLogsSubscriptionFilterApiGatewayLogGroup</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::Lambda::Permission - HelloLambdaPermissionApiGateway</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::ApiGateway::Resource - ApiGatewayResourceHello</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::Lambda::Version - HelloLambdaVersiong6DbuZk46pqXfxgUZxqbVYYaGuA5hOV9bb2oYYmZCQCloudFormation - CREATE_COMPLETE - AWS::Logs::SubscriptionFilter - CloudWatchLogsSubscriptionFilterApiGatewayLogGroup   </span><br><span class="line">CloudFormation - CREATE_COMPLETE - AWS::ApiGateway::Resource - ApiGatewayResourceHello</span><br><span class="line">CloudFormation - CREATE_COMPLETE - AWS::Lambda::Version - HelloLambdaVersiong6DbuZk46pqXfxgUZxqbVYYaGuA5hOV9bb2oYYmZCQ  </span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::ApiGateway::Method - ApiGatewayMethodHelloPost</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::ApiGateway::Method - ApiGatewayMethodHelloPost</span><br><span class="line">CloudFormation - CREATE_COMPLETE - AWS::ApiGateway::Method - ApiGatewayMethodHelloPost</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::ApiGateway::Deployment - ApiGatewayDeployment1577175940021</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::ApiGateway::Deployment - ApiGatewayDeployment1577175940021</span><br><span class="line">CloudFormation - CREATE_COMPLETE - AWS::ApiGateway::Deployment - ApiGatewayDeployment1577175940021</span><br><span class="line">CloudFormation - CREATE_COMPLETE - AWS::Lambda::Permission - HelloLambdaPermissionApiGateway</span><br><span class="line">CloudFormation - CREATE_COMPLETE - AWS::IAM::Role - IamRoleCustomResourcesLambdaExecution</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::Lambda::Function - CustomDashresourceDashapigwDashcwDashroleLambdaFunction   </span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - AWS::Lambda::Function - CustomDashresourceDashapigwDashcwDashroleLambdaFunction   </span><br><span class="line">CloudFormation - CREATE_COMPLETE - AWS::Lambda::Function - CustomDashresourceDashapigwDashcwDashroleLambdaFunction      </span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - Custom::ApiGatewayAccountRole - CustomApiGatewayAccountCloudWatchRole</span><br><span class="line">CloudFormation - CREATE_IN_PROGRESS - Custom::ApiGatewayAccountRole - CustomApiGatewayAccountCloudWatchRole</span><br><span class="line">CloudFormation - CREATE_COMPLETE - Custom::ApiGatewayAccountRole - CustomApiGatewayAccountCloudWatchRole</span><br><span class="line">CloudFormation - UPDATE_COMPLETE_CLEANUP_IN_PROGRESS - AWS::CloudFormation::Stack - sample-dev</span><br><span class="line">CloudFormation - DELETE_SKIPPED - AWS::Lambda::Version - HelloLambdaVersionkQRfnNyzdsFOd9cvxTBAHNZoGDtQ2l6Z2hDwU58</span><br><span class="line">CloudFormation - UPDATE_COMPLETE - AWS::CloudFormation::Stack - sample-dev</span><br><span class="line">Serverless: Stack update finished...</span><br><span class="line">Service Information</span><br><span class="line">service: sample</span><br><span class="line">stage: dev</span><br><span class="line">region: us-east-1</span><br><span class="line">stack: sample-dev</span><br><span class="line">resources: 18</span><br><span class="line">api keys:</span><br><span class="line">  None</span><br><span class="line">endpoints:</span><br><span class="line">  POST - https://bmusgn5jfh.execute-api.us-east-1.amazonaws.com/dev/hello</span><br><span class="line">functions:</span><br><span class="line">  hello: sample-dev-hello</span><br><span class="line">layers:</span><br><span class="line">  None</span><br><span class="line"> </span><br><span class="line">Stack Outputs</span><br><span class="line">EnterpriseLogAccessIamRole: arn:aws:iam::271382553193:role/sample-dev-EnterpriseLogAccessIamRole-ZZR7ZNGND4U4</span><br><span class="line">HelloLambdaFunctionQualifiedArn: arn:aws:lambda:us-east-1:271382553193:function:sample-dev-hello:2</span><br><span class="line">ServiceEndpoint: https://bmusgn5jfh.execute-api.us-east-1.amazonaws.com/dev</span><br><span class="line">ServerlessDeploymentBucketName: sample-dev-serverlessdeploymentbucket-1r9jccbx0b91l</span><br><span class="line"> </span><br><span class="line">Serverless: Publishing service to the Serverless Dashboard...</span><br><span class="line">Serverless: Successfully published your service to the Serverless Dashboard: https://dashboard.serverless.com/tenants/skarlsla/applications/myapp/services/sample/stage/dev/region/us-east-1</span><br></pre></td></tr></table></figure></p><hr><p><strong>5. endpoint í˜¸ì¶œ í…ŒìŠ¤íŠ¸ (path: hello , method: post)</strong></p><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/endpoint.JPG" alt="-"></p><hr><p><strong>6. ëª¨ë‹ˆí„°ë§</strong><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/monitoring.jpg" alt="-"></p><hr><p><strong>7. invoke service function  í˜¸ì¶œ</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">serverless invoke -f hello -l</span><br><span class="line">&#123;</span><br><span class="line">    &quot;statusCode&quot;: 200,</span><br><span class="line">    &quot;body&quot;: &quot;&#123;\n  \&quot;message\&quot;: \&quot;Go Serverless v1.0! Your function executed successfully!\&quot;,\n  \&quot;input\&quot;: &#123;&#125;\n&#125;&quot;       </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p><strong>8. Fetch the function logs(ë¡œê·¸ ì‹¤ì‹œê°„ë³´ê¸° logtail)  ì„œë¹„ìŠ¤ í˜¸ì¶œì‹œ ë¡œê·¸ ì „ì†¡ë¨</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">serverless logs -f hello -t</span><br><span class="line">START RequestId: 119d14e0-0450-4095-b808-e7eca56c4fa7 Version: $LATEST</span><br><span class="line">2019-12-24 17:44:30.511 (+09:00)        119d14e0-0450-4095-b808-e7eca56c4fa7    INFO    SERVERLESS_ENTERPRISE &#123;&quot;origin&quot;:&quot;sls-agent&quot;,&quot;schemaVersion&quot;:&quot;0.0&quot;,&quot;timestamp&quot;:&quot;2019-12-24T08:44:30.511Z&quot;,&quot;requestId&quot;:&quot;119d14e0-0450-4095-b808-e7eca56c4fa7&quot;,&quot;type&quot;:&quot;transaction&quot;,&quot;payload&quot;:&#123;&quot;schemaType&quot;:&quot;s-span&quot;,&quot;schemaVersion&quot;:&quot;0.0&quot;,&quot;operationName&quot;:&quot;s-transaction-function&quot;,&quot;startTime&quot;:&quot;2019-12-24T08:44:30.508Z&quot;,&quot;endTime&quot;:&quot;2019-12-24T08:44:30.511Z&quot;,&quot;duration&quot;:2.69708,&quot;spanContext&quot;:&#123;&quot;traceId&quot;:&quot;11f9f87782a45a96c;Parent=7e64f99f36e026e6;Sampled=0&quot;&#125;,&quot;tags&quot;:&#123;&quot;schemaType&quot;:&quot;s-transaction-function&quot;,&quot;schemaVersion&quot;:&quot;0.0&quot;,&quot;timestamp&quot;:&quot;2019-12-24T08:44:30.508Z&quot;,&quot;tenantId&quot;:&quot;skarlsla&quot;,&quot;applicationName&quot;:&quot;myapp&quot;,&quot;serviceName&quot;:&quot;sample&quot;,&quot;stageName&quot;:&quot;dev&quot;,&quot;functionName&quot;:&quot;sample-dev-hello&quot;,&quot;timeout&quot;:6,&quot;computeType&quot;:&quot;aws.lambda&quot;,&quot;computeRuntime&quot;:&quot;aws.lambda.nodejs.12.13.0&quot;,&quot;computeRegion&quot;:&quot;us-east-1&quot;,&quot;computeMemorySize&quot;:&quot;1024&quot;,&quot;computeMemoryUsed&quot;:&quot;&#123;\&quot;rss\&quot;:37830656  ì¤‘ëµ...</span><br></pre></td></tr></table></figure></p><hr><p><strong>9. ì„œë¹„ìŠ¤ ì‚­ì œ</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">serverless remove</span><br><span class="line">Serverless: Getting all objects in S3 bucket...</span><br><span class="line">Serverless: Removing objects in S3 bucket...</span><br><span class="line">Serverless: Removing Stack...</span><br><span class="line">Serverless: Checking Stack removal progress...</span><br><span class="line">.........................</span><br><span class="line">Serverless: Stack removal finished...</span><br><span class="line">Serverless: Publishing service to the Serverless Dashboard...</span><br><span class="line">Serverless: Successfully published your service to the Serverless Dashboard: https://dashboard.serverless.com/tenants/skarlsla/applications/myapp/services/sample/stage/dev/region/us-east-1</span><br></pre></td></tr></table></figure></p><hr>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Serverless-í”„ë ˆì„ì›Œí¬ëŠ”-ì„œë²„ë¦¬ìŠ¤-ì• í”Œë¦¬ì¼€ì´ì…˜ì„-ìƒì„±í•˜ê³ -ë°°í¬í•˜ê¸°-ìœ„í•´-í•„ìš”í•œ-ëª¨ë“ -ë„êµ¬ë“¤ì„-ì‰½ê²Œ-ê´€ë¦¬í• -ìˆ˜-ìˆëŠ”-íŒ¨í‚¤ì§€-í˜•íƒœë¡œ-ë¬¶ì–´ì„œ-ì œê³µí•œë‹¤&quot;&gt;&lt;a href=&quot;#Serverless-í”„ë ˆì„ì›Œí¬ëŠ”-ì„œë²„ë¦¬ìŠ¤-ì• í”Œë¦¬ì¼€ì´ì…˜ì„-ìƒì„±í•˜ê³ -
      
    
    </summary>
    
      <category term="AWS" scheme="https://skarlsla.github.io/categories/AWS/"/>
    
    
      <category term="AWS" scheme="https://skarlsla.github.io/tags/AWS/"/>
    
      <category term="SERVERLESS" scheme="https://skarlsla.github.io/tags/SERVERLESS/"/>
    
  </entry>
  
  <entry>
    <title>[AWS] SAM ê°„ë‹¨í•œ ì˜ˆì œ(RESTful API endpoint using Amazon API Gateway)</title>
    <link href="https://skarlsla.github.io/2019/12/23/aws-sam-simple/"/>
    <id>https://skarlsla.github.io/2019/12/23/aws-sam-simple/</id>
    <published>2019-12-23T07:43:15.000Z</published>
    <updated>2019-12-23T08:23:51.993Z</updated>
    
    <content type="html"><![CDATA[<h3 id="SAMìœ¼ë¡œ-ê°„ë‹¨í•œ-ì˜ˆì œ"><a href="#SAMìœ¼ë¡œ-ê°„ë‹¨í•œ-ì˜ˆì œ" class="headerlink" title="SAMìœ¼ë¡œ ê°„ë‹¨í•œ ì˜ˆì œ"></a>SAMìœ¼ë¡œ ê°„ë‹¨í•œ ì˜ˆì œ</h3><p><strong>1. template.yaml ì„¤ì •</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">AWSTemplateFormatVersion: &apos;2010-09-09&apos;   #SAM í…œí”Œë¦¿</span><br><span class="line">Transform: &apos;AWS::Serverless-2016-10-31&apos;</span><br><span class="line">Description: A simple backend with a RESTful API endpoint using Amazon API Gateway.</span><br><span class="line">Resources:</span><br><span class="line">  hello:</span><br><span class="line">    Type: &apos;AWS::Serverless::Function&apos;</span><br><span class="line">    Properties:</span><br><span class="line">      Handler: handler.hello    #ì‹¤í–‰ í•¨ìˆ˜</span><br><span class="line">      Runtime: nodejs8.10       #node.js ë¡œ ì‹¤í–‰</span><br><span class="line">      CodeUri: .                #íŒŒì¼ path</span><br><span class="line">      Description: A simple backend with a RESTful API endpoint using Amazon API Gateway.</span><br><span class="line">      MemorySize: 512           #function í• ë‹¹ ë©”ëª¨ë¦¬</span><br><span class="line">      Timeout: 10               #í˜¸ì¶œ íƒ€ì„ì•„ì›ƒ</span><br><span class="line">      Events:</span><br><span class="line">        Api1:</span><br><span class="line">          Type: Api             #api gateway</span><br><span class="line">          Properties:</span><br><span class="line">            Path: /hello        #APIí˜¸ì¶œê²½ë¡œ</span><br><span class="line">            Method: ANY         #ëª¨ë“ ë©”ì†Œë“œ</span><br></pre></td></tr></table></figure></p><hr><p><strong>2. handler.js</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// apigateway ì—ì„œ í˜¸ì¶œì‹œ ì§„ì…ì (hello)</span></span><br><span class="line">exports.hello = <span class="function">(<span class="params">event, context, callback</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//console.log('Received event:', JSON.stringify(event, null, 2));</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span> (event.httpMethod) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'DELETE'</span>:</span><br><span class="line">            sendResponse(<span class="number">200</span>, <span class="string">'DELETE happened'</span>, callback);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'GET'</span>:</span><br><span class="line">            sendResponse(<span class="number">200</span>, <span class="string">'GET happened'</span>, callback);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'POST'</span>:</span><br><span class="line">            sendResponse(<span class="number">200</span>, <span class="string">'POST happened'</span>, callback);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'PUT'</span>:</span><br><span class="line">            sendResponse(<span class="number">200</span>, <span class="string">'PUT happened'</span>, callback);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            sendResponse(<span class="number">200</span>, <span class="string">`Unsupported method "<span class="subst">$&#123;event.httpMethod&#125;</span>"`</span>, callback);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sendResponse</span>(<span class="params">statusCode, message, callback</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> response = &#123;</span><br><span class="line">        statusCode: statusCode,</span><br><span class="line">        body: <span class="built_in">JSON</span>.stringify(message)</span><br><span class="line">    &#125;;</span><br><span class="line">    callback(<span class="literal">null</span>,response);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><p><strong>3. S3 bucket ìƒì„±</strong><br>aws ì„¤ì¹˜ ë° config ì„¤ì • ìƒëµâ€¦<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">aws s3 mb s3://sam-test-bucket3</span><br><span class="line">make_bucket: sam-test-bucket3</span><br></pre></td></tr></table></figure></p><hr><p><strong>4. Packing Artifacts</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">aws cloudformation package --template-file .\template.yml --s3-bucket sam-test-bucket3 --output-template.yaml</span><br><span class="line">Uploading to 7e7043603cb391e49a966292b19ddcf0  42386 / 42386.0  (100.00%)</span><br><span class="line">Successfully packaged artifacts and wrote output template to file packaged-template.yaml.</span><br><span class="line">Execute the following command to deploy the packaged template</span><br></pre></td></tr></table></figure></p><p>output-template.yaml ì— codeUriê°€ ë³€ê²½ë¨  S3ì˜ ìœ„ì¹˜ë¡œ</p><hr><p><strong>5. ë°°í¬(Deploy)</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">aws cloudformation deploy --template-file .\packaged-template.yaml --stack-name sam-test-basic3 --capabilities CAPABILITY_IAM</span><br><span class="line"></span><br><span class="line">Waiting for changeset to be created..</span><br><span class="line">Waiting for stack create/update to complete</span><br><span class="line">Successfully created/updated stack - sam-test-basic3</span><br></pre></td></tr></table></figure></p><hr><p><strong>6. ìƒì„±ëœ cloudFormation STACK</strong><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/1.stack.jpg" alt="-"></p><hr><p><strong>7. ìƒì„±ëœ STACK RESOURCE</strong><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/2.resource.jpg" alt="-"></p><hr><p><strong>8. ìƒì„±ëœ Template</strong><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/3.template.jpg" alt="-"></p><hr><p><strong>9. ìƒì„±ëœ API GATEWAY</strong><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/4.apistage.jpg" alt="-"></p><hr><p><strong>10. API í˜¸ì¶œì •ë³´ ë° í˜¸ì¶œ</strong><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/5.callstage.jpg" alt="-"></p><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/6.callwebsite.jpg" alt="í˜¸ì¶œ"></p><hr><p><strong>11. ì‚­ì œ</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aws --region us-east-2 cloudformation delete-stack --stack-name sam-test-basic3</span><br></pre></td></tr></table></figure></p><hr>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;SAMìœ¼ë¡œ-ê°„ë‹¨í•œ-ì˜ˆì œ&quot;&gt;&lt;a href=&quot;#SAMìœ¼ë¡œ-ê°„ë‹¨í•œ-ì˜ˆì œ&quot; class=&quot;headerlink&quot; title=&quot;SAMìœ¼ë¡œ ê°„ë‹¨í•œ ì˜ˆì œ&quot;&gt;&lt;/a&gt;SAMìœ¼ë¡œ ê°„ë‹¨í•œ ì˜ˆì œ&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;1. template.yaml ì„¤ì •&lt;/s
      
    
    </summary>
    
      <category term="AWS" scheme="https://skarlsla.github.io/categories/AWS/"/>
    
    
      <category term="AWS" scheme="https://skarlsla.github.io/tags/AWS/"/>
    
      <category term="SAM" scheme="https://skarlsla.github.io/tags/SAM/"/>
    
      <category term="SERVERLESS" scheme="https://skarlsla.github.io/tags/SERVERLESS/"/>
    
  </entry>
  
  <entry>
    <title>[AWS] CloudWatch Alarms to Slack(ë¡œê·¸ ì—ëŸ¬ë©”ì„¸ì§€ ìŠ¬ë™ìœ¼ë¡œ ì•Œë¦¼)</title>
    <link href="https://skarlsla.github.io/2019/12/11/cloudwatchtoslack/"/>
    <id>https://skarlsla.github.io/2019/12/11/cloudwatchtoslack/</id>
    <published>2019-12-11T08:22:15.000Z</published>
    <updated>2019-12-11T09:43:18.928Z</updated>
    
    <content type="html"><![CDATA[<h3 id="SAM"><a href="#SAM" class="headerlink" title="SAM ?"></a>SAM ?</h3><p>AWSì—ì„œ ì„œë²„ë¦¬ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¹Œë“œí•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì˜¤í”ˆ ì†ŒìŠ¤ í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤.<br>Lambda í•¨ìˆ˜, ì´ë²¤íŠ¸ ì†ŒìŠ¤ ë° ê¸°íƒ€ ë¦¬ì†ŒìŠ¤ì˜ ì¡°í•©. </p><p>êµ³ì´ í˜ë“¤ê²Œ ë§Œë“¤ì§€ ì•Šì•„ë„ ê¸°ë³¸ì ì¸ ì•±ë“¤ì´ ë§ë‹¤.</p><p>ê·¸ì¤‘ì— cloudwatch to slack ì„ ì´ìš©í•´ì„œ í•´ë³¸ë‹¤.</p><p>lambda -&gt; ì–´í”Œë¦¬ì¼€ì´ì…˜ -&gt; ê²€ìƒ‰ serverlessrepo-cloudwatch-alarm-to-slack</p><hr><h3 id="slack-incoming-webhook"><a href="#slack-incoming-webhook" class="headerlink" title="slack incoming webhook"></a>slack incoming webhook</h3><p>ë¯¸ë¦¬ ìƒì„±</p><hr><h3 id="CloudWatch-Alarms-to-Slack"><a href="#CloudWatch-Alarms-to-Slack" class="headerlink" title="CloudWatch Alarms to Slack"></a>CloudWatch Alarms to Slack</h3><p>íë¦„?<br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/blueprint-flow.png" alt="íë¦„ë„"></p><p>ê·¸ë¦¼ìƒ CPUë¡œ í–ˆì§€ë§Œ ì´ë²ˆì—” íŠ¹ì • ëŒë‹¤í•¨ìˆ˜ì˜ ì—ëŸ¬ë¡œê·¸ì‹œ ì•ŒëŒì„ ë°›ì•„ë³´ê¸°ë¡œí•¨.</p><p><strong>1. SAMì„ ì´ìš©í•´ì„œ ì•± ìƒì„±</strong><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/7.samcreated.jpg" alt="SAM"></p><p><strong>2. ìƒì„±ëœ ë¦¬ì†ŒìŠ¤ í™•ì¸í•´ë³´ì</strong><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/8.topicandfunction.jpg" alt="ë¦¬ì†ŒìŠ¤"></p><p>SAMì´ ì•„ë‹ˆì˜€ë‹¤ë©´ ì¼ì¼ì´ ìˆ˜ì‘ì—…ì„ í•´ì•¼í•œë‹¤.<br>SNS Topic, Role, Lambda function &amp; permission &amp; SNSì—°ê²°</p><p><strong>3. Lambdaì´ë²¤íŠ¸ì†ŒìŠ¤</strong><br>ì´ë²¤íŠ¸ -&gt; ìŠ¬ë™ ë©”ì„¸ì§€ ì „ì†¡<br>ì´ë²¤íŠ¸ íŒŒë¼ë¯¸í„°ë¥¼ í†µí•´ ì±„ë„ë³„ë¡œ ë³„ë„ë¡œ ì „ì†¡ë„ ê°€ëŠ¥í•˜ê² ë‹¤.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">function processEvent(event, callback) &#123;</span><br><span class="line">    console.log(&quot;event&quot;);</span><br><span class="line">    const message = JSON.parse(event.Records[0].Sns.Message);</span><br><span class="line"></span><br><span class="line">    const alarmName = message.AlarmName; //event.Records[0].Sns.Message.AlarmName;</span><br><span class="line">    //var oldState = message.OldStateValue;</span><br><span class="line">    const newState = message.NewStateValue; //event.Records[0].Sns.Message.NewStateValue; </span><br><span class="line">    const reason = message.NewStateReason; //event.Records[0].Sns.Message.NewStateReason; </span><br><span class="line"></span><br><span class="line">    const slackMessage = &#123;</span><br><span class="line">        channel: slackChannel,</span><br><span class="line">        text: `$&#123;alarmName&#125; state is now $&#123;newState&#125;: $&#123;reason&#125;`</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    postMessage(slackMessage, (response) =&gt; &#123;</span><br><span class="line">        if (response.statusCode &lt; 400) &#123;</span><br><span class="line">            console.info(&apos;Message posted successfully&apos;);</span><br><span class="line">            callback(null);</span><br><span class="line">        &#125; else if (response.statusCode &lt; 500) &#123;</span><br><span class="line">            console.error(`Error posting message to Slack API: $&#123;response.statusCode&#125; - $&#123;response.statusMessage&#125;`);</span><br><span class="line">            callback(null);  // Don&apos;t retry because the error is due to a problem with the request</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            // Let Lambda retry</span><br><span class="line">            callback(`Server error when processing message: $&#123;response.statusCode&#125; - $&#123;response.statusMessage&#125;`);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>4. ì•± í™˜ê²½ë³€ìˆ˜</strong><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/9.vari.jpg" alt="í™˜ê²½ë³€ìˆ˜"></p><p>ì›¹í›… urlì„ KMSë¡œ ì•”í˜¸í™”í•´ì„œ ë„£ì–´ì•¼í•œë‹¤.<br>ì•ŒëŒì„ ë°›ì„ ì±„ë„ëª…ì„ ì…ë ¥í•œë‹¤.</p><p><strong>5. KMSë¡œ ì•”í˜¸í™”</strong><br>aws kmsë¡œ ì´ë™ í›„ kms ìƒì„±</p><p>ì‘ì—…PCì— aws-clië¥¼ ì„¤ì¹˜í•˜ê³  sdk configë¥¼ ì„¤ì •í•œí›„ (key, secret, region ) </p><p>ì•”í˜¸í™” ëª…ë ¹ì–´(ì›¹í›… ì£¼ì†ŒëŠ” https://ëŠ” ë¹¼ê³ í•œë‹¤.)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">aws kms encrypt --key-id &quot;alias/firstKey&quot; --plaintext hooks.slack.com/services/T919NHKHQ/BRC2C9JTW/AWHkTB9tqxxxx</span><br><span class="line">&#123;</span><br><span class="line">    &quot;CiphertextBlob&quot;: &quot;AQICAHjZAWxDFIzL7Oag6zTm7iWRjsIxxxxxgEJyyQbbCYC6gzchcB1MLs6AAAApzCBpAYJKoZIhvcNAQcGoIGWMIGTAgEAMIGNBgkqhkiG9w0BBwEwHgYJYIZIAWUDBAEuMBEEDMlBSyOT7QHDEM8sLAIBEIBgFilgF7ONYEgiiiM4yxz+Iy8TkbzFlOiDoa79s4z................................+HWPErBuwGtje3bwfmoRCL1D24aosHuW8lekMJUqF0SqdlmGuxxxxx&quot;,</span><br><span class="line">    &quot;KeyId&quot;: &quot;arn:aws:kms:us-east-2:271382xxxxxx193:key/ab9a5099-01aa-46dc-b284-xxxxxx&quot;,</span><br><span class="line">    &quot;EncryptionAlgorithm&quot;: &quot;SYMMETRIC_DEFAULT&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>6. CloudWatch Alert</strong><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/1.alarmcreate.jpg" alt="ê²½ë³´ìƒì„±"></p><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/2.jipyo.jpg" alt="ì§€í‘œì„ íƒ"></p><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/3.error.jpg" alt="ì§€í‘œì„ íƒì˜¤ë¥˜ì‹œ"></p><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/4.condition.jpg" alt="ì¡°ê±´ì„¤ì •"></p><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/5.selectSNS.jpg" alt="ì—°ê²°SNS ì„ íƒ"></p><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/6.createdAlarm.jpg" alt="ì•ŒëŒ ìƒì„±"></p><p><strong>7. ê²½ë³´í˜¸ì¶œ</strong><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/10.makeerror.jpg" alt="ì†ŒìŠ¤ìˆ˜ì •"></p><p>ì†ŒìŠ¤ìˆ˜ì •ìœ¼ë¡œ hello functionì‹¤í–‰ì‹œ errorë¡œê·¸ê°€ ë°œìƒí•˜ë„ë¡ ìˆ˜ì •</p><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/11.genealert.jpg" alt="ì—ëŸ¬ë°œìƒ"></p><p><strong>8. ìŠ¬ë™ ì±„ë„ í™•ì¸</strong><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/12.slackmessage.JPG" alt="ìŠ¬ë™"></p><hr>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;SAM&quot;&gt;&lt;a href=&quot;#SAM&quot; class=&quot;headerlink&quot; title=&quot;SAM ?&quot;&gt;&lt;/a&gt;SAM ?&lt;/h3&gt;&lt;p&gt;AWSì—ì„œ ì„œë²„ë¦¬ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¹Œë“œí•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì˜¤í”ˆ ì†ŒìŠ¤ í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤.&lt;br&gt;Lambda í•¨
      
    
    </summary>
    
      <category term="AWS" scheme="https://skarlsla.github.io/categories/AWS/"/>
    
    
      <category term="AWS" scheme="https://skarlsla.github.io/tags/AWS/"/>
    
      <category term="incoming webhook" scheme="https://skarlsla.github.io/tags/incoming-webhook/"/>
    
      <category term="CloudWatch" scheme="https://skarlsla.github.io/tags/CloudWatch/"/>
    
  </entry>
  
  <entry>
    <title>[SLACK] ìŠ¬ë™ ë©”ì„¸ì§€ ì•ŒëŒë°›ê¸°(incoming webhook) ì¤€ë¹„</title>
    <link href="https://skarlsla.github.io/2019/12/10/slackalarm/"/>
    <id>https://skarlsla.github.io/2019/12/10/slackalarm/</id>
    <published>2019-12-10T07:43:15.000Z</published>
    <updated>2019-12-10T07:00:22.096Z</updated>
    
    <content type="html"><![CDATA[<h3 id="slack"><a href="#slack" class="headerlink" title="slack ?"></a>slack ?</h3><p>ìŠ¬ë™(Slack)ì€ ì´ ì¤‘ìš”í•œ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì˜ íš¨ìœ¨ì„±ì„ ë†’ì´ê¸° ìœ„í•œ ë„êµ¬ë‹¤. ìŠ¬ë™ì˜ ê³µê°œ ì±„ë„, ë¹„ê³µê°œ ê·¸ë£¹, ì§ì ‘ ë©”ì‹œì§• ê¸°ëŠ¥ì€ íŒ€ì›ë“¤ì—ê²Œ ê° ì£¼ì œì— ë§ëŠ” ëª¨ë“œë¡œ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜í•  ìˆ˜ ìˆëŠ” ì˜µì…˜ì„ ì œê³µí•œë‹¤. ë³´í†µ ì±„ë„ì„ ë§Œë“¤ì–´ ë©”ì‹ ì €ë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤. ë˜í•œ êµ¬ê¸€,íŠ¸ë ë¡œ,ê¹ƒí—™ ë“±ì„ ì—°ë™ í• ìˆ˜ìˆë‹¤. ê·¸ì™¸ì—ë„ ìˆ˜ë§ì€ ì•±ì„ ì—°ë™ í• ìˆ˜ìˆë‹¤. </p><hr><h3 id="aws-ëª¨ë‹ˆí„°ë§"><a href="#aws-ëª¨ë‹ˆí„°ë§" class="headerlink" title="aws ëª¨ë‹ˆí„°ë§"></a>aws ëª¨ë‹ˆí„°ë§</h3><p>aws cloudwatchë‚˜  cloudtrailì˜ íŠ¹ì • ì•ŒëŒì„  ëŒë‹¤ë¥¼ í†µí•´ ìŠ¬ë™ìœ¼ë¡œ ë³´ë‚´ ëª¨ë‹ˆí„°ë§ì„ í•˜ëŠ”ê²Œ ëŒ€ì„¸ì¸ ë“¯ í•˜ë‹¤.</p><hr><h3 id="ìŠ¬ë™-incoming-webhook-ì¤€ë¹„"><a href="#ìŠ¬ë™-incoming-webhook-ì¤€ë¹„" class="headerlink" title="ìŠ¬ë™  incoming webhook ì¤€ë¹„"></a>ìŠ¬ë™  incoming webhook ì¤€ë¹„</h3><p><strong>1. ê°€ì…ì€ íŒ¨ìŠ¤</strong><br><strong>2. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë§Œë“¤ê¸°</strong><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/0.workspace1.jpg" alt="ì›Œí¬ìŠ¤í˜ì´ìŠ¤"></p><p><strong>3. ì•±ë§Œë“¤ê¸°</strong><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/1.createapp.jpg" alt="ì•±ë§Œë“¤ê¸°"></p><p><strong>4. ì±„ë„ ë§Œë“¤ê¸°</strong><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/3.createchannel.jpg" alt="ì±„ë„ìƒì„±"></p><p><strong>5. incoming webhook ìƒì„±</strong><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/2.incomingwebhook.jpg" alt="incomingwebhook"><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/4.selectchannel.jpg" alt="ì±„ë„ì„ íƒ"><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/5.completewebhook.jpg" alt="ì›¹í›…ì£¼ì†Œìƒì„±"></p><p><strong>6. í˜¸ì¶œí…ŒìŠ¤íŠ¸</strong><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/6.postman.jpg" alt="í˜¸ì¶œ"></p><p><strong>7. í˜¸ì¶œí…ŒìŠ¤íŠ¸</strong><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/7.slackalarm.jpg" alt="ë©”ì„¸ì§€ì•ŒëŒ"></p><hr>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;slack&quot;&gt;&lt;a href=&quot;#slack&quot; class=&quot;headerlink&quot; title=&quot;slack ?&quot;&gt;&lt;/a&gt;slack ?&lt;/h3&gt;&lt;p&gt;ìŠ¬ë™(Slack)ì€ ì´ ì¤‘ìš”í•œ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì˜ íš¨ìœ¨ì„±ì„ ë†’ì´ê¸° ìœ„í•œ ë„êµ¬ë‹¤. ìŠ¬ë™ì˜ ê³µê°œ ì±„ë„, ë¹„
      
    
    </summary>
    
      <category term="SLACK" scheme="https://skarlsla.github.io/categories/SLACK/"/>
    
    
      <category term="incoming webhook" scheme="https://skarlsla.github.io/tags/incoming-webhook/"/>
    
      <category term="SLACK" scheme="https://skarlsla.github.io/tags/SLACK/"/>
    
      <category term="slackì—°ë™" scheme="https://skarlsla.github.io/tags/slack%EC%97%B0%EB%8F%99/"/>
    
  </entry>
  
  <entry>
    <title>[í•´ì™¸ SMS] nexmo sms verify</title>
    <link href="https://skarlsla.github.io/2019/08/20/service-message-nexmo/"/>
    <id>https://skarlsla.github.io/2019/08/20/service-message-nexmo/</id>
    <published>2019-08-20T07:43:15.000Z</published>
    <updated>2019-08-20T07:58:22.412Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Verify-API-ì œê³µ"><a href="#Verify-API-ì œê³µ" class="headerlink" title="Verify API ì œê³µ"></a>Verify API ì œê³µ</h3><p>The Verify API enables you to confirm that you can contact a user at a specific number.</p><ul><li>Protect against spam, by preventing spammers from creating multiple accounts</li><li>Monitor suspicious activity, by forcing an account user to verify ownership of a number</li><li>Reach your users at any time, by ensuring that you have their correct phone number</li></ul><p>The general workflow is shown in the following sequence diagram:<br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/nexmo-verify-flow.png" alt="flow"></p><h3 id="Node-jsë¥¼-ì‚¬ìš©í•œ-í…ŒìŠ¤íŠ¸"><a href="#Node-jsë¥¼-ì‚¬ìš©í•œ-í…ŒìŠ¤íŠ¸" class="headerlink" title="Node.jsë¥¼ ì‚¬ìš©í•œ í…ŒìŠ¤íŠ¸"></a>Node.jsë¥¼ ì‚¬ìš©í•œ í…ŒìŠ¤íŠ¸</h3><ol><li>npm init  ì´ˆê¸°í™”</li><li><p>npm install nexmo</p></li><li><p>nexmo npm ì„ ì–¸</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Nexmo = <span class="built_in">require</span>(<span class="string">'nexmo'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> nexmo = <span class="keyword">new</span> Nexmo(&#123;</span><br><span class="line">  apiKey: <span class="string">'xxxxx'</span>,</span><br><span class="line">  apiSecret: <span class="string">'xxxxx'</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>code ìš”ì²­í•˜ê¸°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">nexmo.verify.request(&#123;</span><br><span class="line">    number: <span class="string">'ë°›ì„íœ´ëŒ€ë²ˆí˜¸'</span>,</span><br><span class="line">    brand: <span class="string">'Nexmo'</span>,</span><br><span class="line">    code_length: <span class="string">'4'</span></span><br><span class="line">  &#125;, (err, result) =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(err);</span><br><span class="line">      <span class="built_in">console</span>.log(result);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure></li><li><p>ê²°ê³¼í™•ì¸(ì²«ë²ˆì§¸ê°€ ì •ìƒ, ë‘ë²ˆì§¸ëŠ” ì¤‘ë³µë°œìƒë¶ˆê°€)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123; request_id: &apos;dd0ffecfbab1459bba27cb8fc219cfd2&apos;, status: &apos;0&apos; &#125;</span><br><span class="line"> </span><br><span class="line"> OR</span><br><span class="line"></span><br><span class="line">&#123; request_id: &apos;dd0ffecfbab1459bba27cb8fc219cfd2&apos;,</span><br><span class="line">  status: &apos;10&apos;,</span><br><span class="line">  error_text:</span><br><span class="line">   &apos;Concurrent verifications to the same number are not allowed&apos; &#125;</span><br></pre></td></tr></table></figure></li><li><p>ë¬¸ìë©”ì„¸ì§€ í™•ì¸<br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/sms-verify.png" alt="sms"></p></li><li><p>code í™•ì¸í•˜ê¸°(ë°›ì€ request_idë¡œ ìš”ì²­,ë¬¸ìë¡œ ë°›ì€ ì½”ë“œ4ìë¦¬)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nexmo.verify.check(&#123;</span><br><span class="line">    request_id: <span class="string">'dd0ffecfbab1459bba27cb8fc219cfd2'</span>,</span><br><span class="line">    code: <span class="string">'0000'</span></span><br><span class="line">  &#125;, (err, result) =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err ? err : result)</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure></li><li><p>ê²°ê³¼í™•ì¸</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ì •ìƒ</span><br><span class="line">&#123; request_id: &apos;dd0ffecfbab1459bba27cb8fc219cfd2&apos;,</span><br><span class="line">  status: &apos;0&apos;,</span><br><span class="line">  event_id: &apos;1C0000001295AD96&apos;,</span><br><span class="line">  price: &apos;0.10000000&apos;,</span><br><span class="line">  currency: &apos;EUR&apos; &#125;</span><br><span class="line"></span><br><span class="line">OR</span><br><span class="line"></span><br><span class="line">ì½”ë“œë²ˆí˜¸ ë¶ˆì¼ì¹˜</span><br><span class="line">&#123; request_id: &apos;dd0ffecfbab1459bba27cb8fc219cfd2&apos;,</span><br><span class="line">  status: &apos;16&apos;,</span><br><span class="line">  error_text: &apos;The code provided does not match the expected value&apos; &#125;</span><br><span class="line"></span><br><span class="line">OR</span><br><span class="line"></span><br><span class="line">ìš”ì²­ì„ ì°¾ì„ìˆ˜ì—†ìŒ</span><br><span class="line">&#123; status: &apos;6&apos;,</span><br><span class="line">  error_text:</span><br><span class="line">   &apos;The Nexmo platform was unable to process this message for the following reason: Request \&apos;dd0ffecfbab1459bba27cb8fc219cfd2\&apos; was not found or it has been verified</span><br><span class="line">already.&apos; &#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="verify-ìì²´ê°œë°œ-vs-verify-api-ì‚¬ìš©"><a href="#verify-ìì²´ê°œë°œ-vs-verify-api-ì‚¬ìš©" class="headerlink" title="verify ìì²´ê°œë°œ vs verify api ì‚¬ìš©"></a>verify ìì²´ê°œë°œ vs verify api ì‚¬ìš©</h3><ul><li><p>verify ìì²´ ê°œë°œì‹œ ë‚œìˆ˜ë°œìƒ(4ìë¦¬,6ìë¦¬) and ë©”ëª¨ë¦¬dbì— ì„ì‹œì €ì¥ í™•ì¸ì‹œ ì¡°íšŒ and ë¡œê·¸ ìì²´ê¸°ë¡</p></li><li><p>verify api ì‚¬ìš©ì‹œ ë”°ë¡œ ë©”ëª¨ë¦¬db êµ¬ì¶•ì•ˆí•˜ê³  ëˆì´ ë” ë“¤ì–´ê°„ë‹¤. ì„±ê³µì‹œ 0.1 ìœ ë¡œ? ë¹„ì‹¸ë‹¤. ê·¸ëƒ¥ smsë³´ë‚´ë©´ 0.04ìœ ë¡œ<br>ëŒ€ì‹  ë¶„ì„ ë° ë¡œê·¸ì¡°íšŒê°€ ê°€ëŠ¥í•˜ë‹¤</p></li></ul><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/analytics.png" alt="analytics"></p><h3 id="ì°¸ê³ ì‚¬ì´íŠ¸"><a href="#ì°¸ê³ ì‚¬ì´íŠ¸" class="headerlink" title="ì°¸ê³ ì‚¬ì´íŠ¸"></a>ì°¸ê³ ì‚¬ì´íŠ¸</h3><p><a href="https://developer.nexmo.com/verify/overview" target="_blank" rel="noopener">https://developer.nexmo.com/verify/overview</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Verify-API-ì œê³µ&quot;&gt;&lt;a href=&quot;#Verify-API-ì œê³µ&quot; class=&quot;headerlink&quot; title=&quot;Verify API ì œê³µ&quot;&gt;&lt;/a&gt;Verify API ì œê³µ&lt;/h3&gt;&lt;p&gt;The Verify API enables you
      
    
    </summary>
    
      <category term="service" scheme="https://skarlsla.github.io/categories/service/"/>
    
    
      <category term="sms" scheme="https://skarlsla.github.io/tags/sms/"/>
    
      <category term="í•´ì™¸sms" scheme="https://skarlsla.github.io/tags/%ED%95%B4%EC%99%B8sms/"/>
    
      <category term="sms verify" scheme="https://skarlsla.github.io/tags/sms-verify/"/>
    
  </entry>
  
  <entry>
    <title>[SNS LOGIN] SNS ë¡œê·¸ì¸ì‹œ ë°›ëŠ” DATAë¶„ì„ ë° í™œìš©</title>
    <link href="https://skarlsla.github.io/2019/07/25/webserver-auth5/"/>
    <id>https://skarlsla.github.io/2019/07/25/webserver-auth5/</id>
    <published>2019-07-25T02:43:15.000Z</published>
    <updated>2019-07-30T05:34:35.757Z</updated>
    
    <content type="html"><![CDATA[<h3 id="FACEBOOK-RESPONSE-DATA"><a href="#FACEBOOK-RESPONSE-DATA" class="headerlink" title="FACEBOOK RESPONSE DATA"></a>FACEBOOK RESPONSE DATA</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;authResponse&quot;: &#123;</span><br><span class="line">    &quot;accessToken&quot;: &quot;EAAUNGBaxD3QBAN5ZAwP&quot;,</span><br><span class="line">    &quot;userID&quot;: &quot;238&quot;,</span><br><span class="line">    &quot;expiresIn&quot;: 5278,</span><br><span class="line">    &quot;signedRequest&quot;: &quot;JwLCSwZmTIr6UP82lL1CFOL24nvtAp3aYmJB7pbemjI.eyJ1c2VyX2lkIjoiMjM4OTE2Nzg5NDUwODY0NiIsImNvZGUiOiJBUUNvR1RsUENrVnpsZWd3eDNRYi05bHJmNGU5X0dKd0bXRzdHR3U1JRSVVXRlRFU1RTNUM3YkJrRWYyOGx1RTRfZm5ZRnZNemNXYnQ0dEt0VkgtbVI2ZjB6OFhweHdNZFhjamRZMlI1VHdUSHRpY05yMkU4U3o1bllkSFdvc0tFbkhFTUJ3ejdFZkhlQXg1LVcyNyIsImFsZ29yaXRobSI6IkhNQUMtU0hBMjU2IiwiaXNzdWVkX2F0IjoxNTY0MDE4MzIyfQ&quot;,</span><br><span class="line">    &quot;data_access_expiration_time&quot;: 1571794322</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;status&quot;: &quot;connected&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>statusëŠ” ì•± ì‚¬ìš©ìì˜ ë¡œê·¸ì¸ ìƒíƒœë¥¼ ì§€ì •í•©ë‹ˆë‹¤. statusëŠ” ë‹¤ìŒ ì¤‘ í•˜ë‚˜ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><ul><li>connected - ì‚¬ìš©ìê°€ Facebookì— ë¡œê·¸ì¸í•˜ê³  ì•±ì— ë¡œê·¸ì¸í–ˆìŠµë‹ˆë‹¤.</li><li>not_authorized - ì‚¬ìš©ìê°€ Facebookì—ëŠ” ë¡œê·¸ì¸í–ˆì§€ë§Œ ì•±ì— ë¡œê·¸ì¸í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</li><li>unknown - ì‚¬ìš©ìê°€ Facebookì— ë¡œê·¸ì¸í•˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ì•±ì— ë¡œê·¸ì¸í–ˆëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë˜ëŠ” ì´ì „ì— FB.logout()ì´ í˜¸ì¶œë˜ì—ˆìœ¼ë¯€ë¡œ Facebookì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</li><li>connected ìƒíƒœì¸ ê²½ìš° authResponseê°€ í¬í•¨ë˜ë©° ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.<ul><li>accessToken - ì•± ì‚¬ìš©ìì˜ ì•¡ì„¸ìŠ¤ í† í°ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</li><li>expiresIn - í† í°ì´ ë§Œë£Œë˜ì–´ ê°±ì‹ í•´ì•¼ í•˜ëŠ” UNIX ì‹œê°„ì„ í‘œì‹œí•©ë‹ˆë‹¤.</li><li>reauthorize_required_in - ë¡œê·¸ì¸ì´ ë§Œë£Œë˜ì–´ ì¬ì¸ì¦ì´ í•„ìš”í•˜ê¸° ì „ê¹Œì§€ì˜ ì‹œê°„(ì´ˆ)ì…ë‹ˆë‹¤.</li><li>signedRequest - ì•± ì‚¬ìš©ìì— ëŒ€í•œ ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” ì„œëª…ëœ ë§¤ê°œë³€ìˆ˜ì…ë‹ˆë‹¤.</li><li>userID - ì•± ì‚¬ìš©ìì˜ IDì…ë‹ˆë‹¤.</li></ul></li></ul><p>connected ê°€ ì •ìƒì ìœ¼ë¡œ ë˜ì—ˆì„ ê²½ìš° profile (ì •ë³´)ì¡°íšŒ ê°€ëŠ¥ ì‚¬ì „ ì•± ì„¤ì •ì— ë”°ë¼ ì œí•œí• ìˆ˜ìˆê³ <br>ìš”ì²­í•˜ëŠ” DATAë¥¼ ì§€ì •  (ì˜ˆì‹œë¡œ ì´ë©”ì¼ ë˜ëŠ” ì´ë¦„ ë“± )í•˜ì—¬ ë°›ì„ ìˆ˜ ìˆìŒ.</p><hr><h3 id="GOOGLE-RESPONSE-DATA"><a href="#GOOGLE-RESPONSE-DATA" class="headerlink" title="GOOGLE+ RESPONSE DATA"></a>GOOGLE+ RESPONSE DATA</h3><p><strong>gauth.currentUser.get().getAuthResponse()</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;token_type&quot;: &quot;Bearer&quot;,</span><br><span class="line">  &quot;login_hint&quot;: &quot;AJDL5jnuaIYokj9TBX5defwHDYlm3wwAS_3ha8RuzhYS2JNg&quot;,</span><br><span class="line">  &quot;expires_in&quot;: 3600,</span><br><span class="line">  &quot;id_token&quot;: &quot;eyJhbGciOiJSUzI1yNXFpMGFmMnZxb2tpNzVxdDlpbmtpbGNlOTVzaXUyLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTE1MDY1ODEwODA4OTgxMjY1NzgwIiwiZW1haWwiOiJEVMM3JMaEs4N2RXbHZsM2VmQS9zOTYtYy9waG90by5qcGciLCJnaXZlbl9uYW1lIjoi64Ko6riwIiwiZmFtaWx5X25hbWUiOiLsnKQiLCJsb2NhbGUiOiJrbyIsImlhdCI6MTU2NDAxOTA0MiwiZXhwIjoxNTY0MDIyNjQyLCJqdGkiOiI4ZDc0MWVhMTgzMzhjM2FlY2Q1OTVlYWVhNTgxMWI5MWRkYWUyM2I5In0.aKUSck0apteYWhRLKdsWs21xqICkkmWDnA9rc97UOV0l1OECy_fo5rxf8QFKzDorsbkfuY50eG5x7PjW65Wak7DujW08kOGfwh6POBCxe_pAkwSNXpNf0g8ZHefOK2RAGzOzBmp5U2Ptg6a9pPrlIMa_eb7C-RVIHTRKM48HdcCNZN8XGq4WhEoAnZ2-ZGVQnzFgMCMusQgrMzdabAwfvHpjAdKNVR9Vq7iPSTouXiWHJfbRPNnp6LEQxlrOt8GZEVK5AFxnnDIgP26y81hfwIssNHuDNlveoWvKpyk0creKwPG5dDbrVS4c0lGAV7gimz7M40spH8CimNgowZRk6Q&quot;,</span><br><span class="line">  &quot;session_state&quot;: &#123;</span><br><span class="line">    &quot;extraQueryParams&quot;: &#123;</span><br><span class="line">      &quot;authuser&quot;: &quot;0&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;first_issued_at&quot;: 1564019043142,</span><br><span class="line">  &quot;expires_at&quot;: 1564022643142,</span><br><span class="line">  &quot;idpId&quot;: &quot;google&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>gauth.currentUser.get().getBasicProfile()</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> profile = auth2.currentUser.get().getBasicProfile();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'ID: '</span> + profile.getId());</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Full Name: '</span> + profile.getName());</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Given Name: '</span> + profile.getGivenName());</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Family Name: '</span> + profile.getFamilyName());</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Image URL: '</span> + profile.getImageUrl());</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Email: '</span> + profile.getEmail());</span><br></pre></td></tr></table></figure></p><hr><h3 id="ê°„í¸ë¡œê·¸ì¸-ë°-ê°„í¸íšŒì›ê°€ì…ì‹œ-í™œìš©-DATA"><a href="#ê°„í¸ë¡œê·¸ì¸-ë°-ê°„í¸íšŒì›ê°€ì…ì‹œ-í™œìš©-DATA" class="headerlink" title="ê°„í¸ë¡œê·¸ì¸ ë° ê°„í¸íšŒì›ê°€ì…ì‹œ í™œìš© DATA"></a>ê°„í¸ë¡œê·¸ì¸ ë° ê°„í¸íšŒì›ê°€ì…ì‹œ í™œìš© DATA</h3><p>access_tokenì€ snsì˜ ì¶”ê°€ apiê¸°ëŠ¥ì„ í™œìš©í•  ë•Œ ì´ìš©í•˜ê²Œ ëœë‹¤.</p><p>ê°„í¸ë¡œê·¸ì¸ ë° ê°„í¸íšŒì›ê°€ì…ì‹œ ì‹¤ì œ í•„ìš”í•œ DATAëŠ”  <strong>userID + profile</strong> ì •ë³´ì´ë‹¤.</p><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/sns_db.png" alt="SNS íšŒì›ì •ë³´ ì—°ë™ DBêµ¬ì„±(ìŠ¤í‚¤ë§ˆ) ì˜ˆì‹œ"></p><p><a href="https://developers.naver.com/docs/login/devguide/#4-1-1-database%EC%9D%98-%EA%B5%AC%EC%84%B1" target="_blank" rel="noopener">ì°¸ê³ </a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;FACEBOOK-RESPONSE-DATA&quot;&gt;&lt;a href=&quot;#FACEBOOK-RESPONSE-DATA&quot; class=&quot;headerlink&quot; title=&quot;FACEBOOK RESPONSE DATA&quot;&gt;&lt;/a&gt;FACEBOOK RESPONSE DA
      
    
    </summary>
    
      <category term="webserver" scheme="https://skarlsla.github.io/categories/webserver/"/>
    
    
      <category term="sns" scheme="https://skarlsla.github.io/tags/sns/"/>
    
      <category term="ê°„í¸ë¡œê·¸ì¸" scheme="https://skarlsla.github.io/tags/%EA%B0%84%ED%8E%B8%EB%A1%9C%EA%B7%B8%EC%9D%B8/"/>
    
  </entry>
  
  <entry>
    <title>[í•´ì™¸ EMAIL] AWS SES vs SendGrid vs Mailgun</title>
    <link href="https://skarlsla.github.io/2019/07/23/service-email/"/>
    <id>https://skarlsla.github.io/2019/07/23/service-email/</id>
    <published>2019-07-23T08:43:15.000Z</published>
    <updated>2019-07-23T09:31:08.894Z</updated>
    
    <content type="html"><![CDATA[<h3 id="AWS-SES-vs-SendGrid-vs-Mailgun"><a href="#AWS-SES-vs-SendGrid-vs-Mailgun" class="headerlink" title="AWS SES vs SendGrid vs Mailgun"></a>AWS SES vs SendGrid vs Mailgun</h3><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/aws-logo.png" alt="AWS"><br><strong>Amazon SES</strong> : Amazon SES ( <a href="https://aws.amazon.com/" target="_blank" rel="noopener">Amazon Simple Email Service</a> )ëŠ” ì‹ ë¢°í•  ìˆ˜ ìˆê³  í™•ì¥ ê°€ëŠ¥í•œ ì¸í”„ë¼ êµ¬í˜„ìœ¼ë¡œ êµ¬ì¶• ëœ ë¹„ìš© íš¨ìœ¨ì ì¸ ì „ì ë©”ì¼ ë§ˆì¼€íŒ… ë„êµ¬ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. Amazon.comì—ì„œ ìì²´ ê³ ê° ê¸°ë°˜ì˜ ì„œë²„ë¡œ ê°œë°œí–ˆìŠµë‹ˆë‹¤.  Amazon SESëŠ” ê±°ë˜ ì „ì ë©”ì¼, ë§ˆì¼€íŒ… ì „ì ë©”ì¼ ë˜ëŠ” ê¸°íƒ€ ìœ í˜•ì˜ ìµœê³  í’ˆì§ˆì˜ ì½˜í…ì¸ ë¥¼ êµ¬ë…ìì—ê²Œ ë³´ë‚´ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ ì™¸ì—ë„ ì•„ë§ˆì¡´ SESëŠ” ì‚¬ìš©ìê°€ ì‚¬ìš©í•˜ëŠ” ê²ƒì— ëŒ€í•´ì„œë§Œ ë¹„ìš©ì„ ì§€ë¶ˆí•¨ìœ¼ë¡œì¨ ì´ìµì„ ì–»ìœ¼ë¯€ë¡œ ìµœì†Œ ì˜ë¬´ë¥¼ ìš”êµ¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.  <a href="https://easysendy.com/integrations/amazon-ses/" target="_blank" rel="noopener">Amazon ses</a> ì™€ì˜ í†µí•©ì„ í™•ì¸í•˜ì‹­ì‹œì˜¤ .</p><h3 id="VS"><a href="#VS" class="headerlink" title="VS"></a>VS</h3><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/SendGrid-logo.jpg" alt="sendgrid"><br><strong>SendGrid</strong> : 2009 ë…„ì— ì„¤ë¦½ ëœ <a href="https://sendgrid.com/" target="_blank" rel="noopener">SendGrid</a> ëŠ” ê±°ë˜ ì „ì ë©”ì¼ ì „ì†¡ ë¶„ì•¼ì˜ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. í´ë¼ìš°ë“œ ê¸°ë°˜ ì „ì ë©”ì¼ ì„œë¹„ìŠ¤ì™€ ê´€ë ¨í•˜ì—¬ í˜¼ë€ì„ ê²ªì—ˆë˜ ê¸°ê°„ì— ê°œë°œ ë° ë„ì…ë˜ì—ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ SendGridëŠ” ì„±ì¥í•˜ëŠ” íšŒì‚¬ê°€ ì „ì ë©”ì¼ì„ ë³´ë‚´ëŠ” ê²ƒì´ ê³ í†µìŠ¤ëŸ½ê³  ì—‰ë§ì´ ëœ ì‹œê°„ì— êµ¬ë…ì ëª©ë¡ì— ì „ì ë©”ì¼ì„ ë³´ë‚´ëŠ” ê²ƒì„ ë„ì™”ìŠµë‹ˆë‹¤. ì˜¤ëŠ˜ë‚ ì´ íšŒì‚¬ëŠ” ì „ ì„¸ê³„ ìµœê³ ì˜ ë…¸ì¹˜ íšŒì‚¬ ì¤‘ ì¼ë¶€ë¥¼ ëŒ€ì‹ í•˜ì—¬ ëŒ€ëŸ‰ ë©”ì¼ì„ ë°œì†¡í•  ì±…ì„ì´ ìˆìŠµë‹ˆë‹¤.  SendGridì˜ ì‹ ë¢°í•  ìˆ˜ìˆëŠ” í”Œë«í¼, ë„êµ¬ ë° í”„ë¡œ ì„œë¹„ìŠ¤ íŒ€ì€ ê°œë°œì í™•ì¸ ë° ë§ˆì¼€íŒ… ë‹´ë‹¹ìê°€ êµ¬ë§¤ í™•ì¸,ì•”í˜¸ ì¬ì„¤ì • ì§€ì¹¨ ë˜ëŠ” ìº í˜ì¸ ìœ¡ì„± ì—¬ë¶€ì— ìƒê´€ì—†ì´ ëª¨ë“  ì „ì ë©”ì¼ì„ ë””ìì¸, ë¶„ë¥˜, í…ŒìŠ¤íŠ¸ ë° ì„±ê³µì ìœ¼ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆê²Œí•©ë‹ˆë‹¤. </p><h3 id="VS-1"><a href="#VS-1" class="headerlink" title="VS"></a>VS</h3><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/mailgun.png" alt="mailgun"><br>Mailgunì€ Rackspaceì—ì„œ ì œê³µí•˜ëŠ” ì „ì ë©”ì¼ ìë™í™” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ê·€í•˜ì˜ ì›¹ ì‚¬ì´íŠ¸ ë° ì‘ìš© í”„ë¡œê·¸ë¨ì„ í†µí•´ ì „ì†¡ ëœ ì „ì ë©”ì¼ì„ ì „ì†¡, ìˆ˜ì‹  ë° ì¶”ì í•˜ê¸°ìœ„í•œ ì™„ë²½í•œ í´ë¼ìš°ë“œ ê¸°ë°˜ ì „ì ë©”ì¼ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤. Mailgun ê¸°ëŠ¥ì€ ì§ê´€ì  ì¸ RESTful APIë¥¼ í†µí•´ ì‚¬ìš©í•˜ê±°ë‚˜ SMTPì™€ ê°™ì€ ê¸°ì¡´ ì´ë©”ì¼ í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Rackspace Cloud ê³ ê°ì€ Mailgunì˜ ê¸°ë³¸ ê³„íšì„ í†µí•´ ë§¤ë‹¬ 50,000 ê°œì˜ ì´ë©”ì¼ì„ ë¬´ë£Œë¡œ ë³´ë‚¼ ìˆ˜ ìˆë‹¤. 2013 ë…„ 7 ì›”ë¶€í„° RackspaceëŠ” ê´€ë¦¬ ì‘ì—…ì„ í†µí•´ í´ë¼ìš°ë“œ ì„œë²„ìš© Windows ë° Linux ì´ë¯¸ì§€ë¥¼ ë¯¸ë¦¬ êµ¬ì„±í•˜ì—¬ SMTPë¥¼ ì‚¬ìš©í•˜ì—¬ Mailgunì„ í†µí•´ ì´ë©”ì¼ì„ ì „ì†¡í•©ë‹ˆë‹¤.</p><hr><h3 id="Features-íŠ¹ìƒ‰-ì°¨ì´ì "><a href="#Features-íŠ¹ìƒ‰-ì°¨ì´ì " class="headerlink" title="Features(íŠ¹ìƒ‰ ì°¨ì´ì )"></a>Features(íŠ¹ìƒ‰ ì°¨ì´ì )</h3><p>Mailgun, SendGrid ë° SESëŠ” ëª¨ë‘ ê³µí†µëœ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. ì„¸ ê°€ì§€ ì„œë¹„ìŠ¤ ëª¨ë‘ë¥¼ ì‚¬ìš©í•˜ë©´ ìœ íš¨ì„± ê²€ì‚¬ ë° DMARC ì¤€ìˆ˜ì— ëŒ€í•œ ëª¨ë²” ì‚¬ë¡€ë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¸ëœì­ì…˜ ì „ì ë©”ì¼ì„ ë³´ë‚´ë„ë¡ ë„ë©”ì¸ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë‚˜ ê° ì„œë¹„ìŠ¤ì—ëŠ” ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì™€ ì°¨ë³„í™”ë˜ëŠ” ëª‡ ê°€ì§€ ì‚¬í•­ì´ ìˆë‹¤.</p><p><strong>Amazon SES</strong><br>Amazon SESì˜ ì£¼ìš” ì´ì  ì¤‘ í•˜ë‚˜ëŠ” AWS í”Œë«í¼ì˜ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì™€ í†µí•©ëœë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. EC2ì—ì„œ í˜¸ìŠ¤íŒ…í•˜ëŠ” ì‚¬ì´íŠ¸ì—ì„œ ì›í™œí•˜ê²Œ ì‚¬ìš©í•˜ê³ , SNS (Simple Notification Service)ë¡œ ì‚¬ìš©ì ì •ì˜ ì•Œë¦¼ì„ êµ¬ì„±í•˜ê³ , Amazon Cloudwatchë¡œ ì‚¬ìš©ì ì •ì˜ë³´ê³ ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. ë˜í•œ ì‘ìš© í”„ë¡œê·¸ë¨ (ë˜ëŠ” WordPress ì‚¬ì´íŠ¸)ì„ í…ŒìŠ¤íŠ¸í•˜ì—¬ ë©”ì¼ì„ ì˜¬ë°”ë¥´ê²Œ ë³´ë‚´ê³  ë°”ìš´ìŠ¤ / ë¶ˆë§Œ ì•Œë¦¼ ìˆ˜ì‹ ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í¸ë¦¬í•œ ì‚¬ì„œí•¨ ì‹œë®¬ë ˆì´í„° ê°€ ìˆë‹¤.</p><p>SESê°€ ë¶€ì¡±í•œ ì˜ì—­ ì¤‘ í•˜ë‚˜ëŠ” ëŒ€ì‹œ ë³´ë“œì…ë‹ˆë‹¤. Cloudwatchì—ì„œ ì‚¬ìš©ì ì •ì˜ ë³´ê³ ì„œë¥¼ êµ¬ì„±í•˜ê±°ë‚˜ WP Offload SESë¥¼ ì‚¬ìš©í•˜ì—¬ ë³´ê³ ì„œë¥¼ ë³´ê±°ë‚˜ í†µê³„ë¥¼ ë³´ë‚´ì§€ ì•ŠëŠ” í•œ ì •ë³´ íƒìƒ‰ì´ ë‹¤ì†Œ ì–´ë ¤ìš¸ ìˆ˜ ìˆë‹¤.</p><p><strong>Mailgun</strong><br>MailGunì€ ì „ì ë©”ì¼ì„ ë³´ë‚´ëŠ” ê²ƒ ì™¸ì—ë„ ì „ì ë©”ì¼ ìœ íš¨ì„± ê²€ì‚¬ ì„œë¹„ìŠ¤ë„ ì œê³µí•œë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ë©”ì¼ì„ ë³´ë‚´ê³ ìˆëŠ” ì´ë©”ì¼ ì£¼ì†Œê°€ ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ê³  ë°˜ì†¡ ë° í—ˆìœ„ ì´ë©”ì¼ì„ ì¤„ì¼ ìˆ˜ìˆë‹¤.</p><p>ì´ ê¸°ëŠ¥ì˜ ì§„ì •í•œ í˜ì€ ì‹¤ì‹œê°„ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ìœ„í•´ ì—°ë½ ì–‘ì‹ì— í†µí•©ë˜ì—ˆì„ ë•Œ ì‹¤í˜„ëœë‹¤. ë”°ë¼ì„œ ì–‘ì‹ì„ ì œì¶œí•˜ëŠ” ì‚¬ìš©ìëŠ” ì˜ëª»ëœ ì „ì ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í–ˆê±°ë‚˜ ê°„ë‹¨íˆ ì˜¤íƒ€ë¥¼ ë§Œë“  ê²½ìš° ì‹ ì†í•˜ê²Œ ì•Œë¦°ë‹¤.</p><p><strong>SendGrid</strong><br>SendGridëŠ” íŠ¸ëœì­ì…˜ ì „ì ë©”ì¼ì˜ ëª¨ë“  ì¼ë°˜ì ì¸ ê¸°ëŠ¥ì„ ê°–ì¶”ê³  ìˆì§€ë§Œ ì „ì²´ ì „ì ë©”ì¼ ë§ˆì¼€íŒ… ì„œë¹„ìŠ¤ì˜ ì¶”ê°€ ì´ì ë„ ìˆë‹¤.<br>ì¦‰, ê±°ë˜ ì „ì ë©”ì¼ ì„œë¹„ìŠ¤ë¥¼ ê´€ë¦¬í•˜ê³  ë™ì¼í•œ ëŒ€ì‹œ ë³´ë“œì—ì„œ ë§ˆì¼€íŒ… ìº í˜ì¸ì„ ë³´ë‚¼ ìˆ˜ ìˆë‹¤.</p><hr><h3 id="Pricing-ê°€ê²©"><a href="#Pricing-ê°€ê²©" class="headerlink" title="Pricing(ê°€ê²©)"></a>Pricing(ê°€ê²©)</h3><p>Amazon SES<br>Amazonì€ ì „ì†¡ ëœ ì „ì ë©”ì¼ ë‹¹ 10 ì„¼íŠ¸ë¥¼ ìš”í•˜ëŠ” pay-as-you-go ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤. ê³ ë ¤í•´ì•¼ í•  ë³„ë„ì˜ ê³„ì¸µì´ ì—†ê¸° ë•Œë¬¸ì— ì´ë©”ì¼ ë³¼ë¥¨ì„ ê¸°ì¤€ìœ¼ë¡œ ê°€ê²©ì„ ì‰½ê²Œ ì˜ˆì¸¡í•  ìˆ˜ ìˆë‹¤.</p><p>í•œ ë‹¬ì— 24.95 ë‹¬ëŸ¬ì— ì „ìš© IP ì£¼ì†Œë¥¼ ì¶”ê°€ í•  ìˆ˜ ìˆë‹¤. ì´ëŠ”ì´ ë¹„êµì—ì„œ ì„¸ ì„œë¹„ìŠ¤ ì¤‘ ê°€ì¥ ì €ë ´í•˜ë‹¤.</p><p>ê·¸ë¦¬ê³  ì›¹ ì‚¬ì´íŠ¸ê°€ Amazon EC2ì—ì„œ í˜¸ìŠ¤íŒ…ë˜ëŠ” ê²½ìš° ì›”ê°„ ì²˜ìŒ 62,000 ê°œì˜ ì´ë©”ì¼ì´ ì™„ì „íˆ ë¬´ë£Œë¼ëŠ” ì ì„ ë¶„ëª…íˆ ë§í•  ê°€ì¹˜ê°€ ìˆë‹¤. </p><p>ë”°ë¼ì„œ í˜¸ìŠ¤íŒ… ë° íŠ¸ëœì­ì…˜ ì „ì ë©”ì¼ ì„œë¹„ìŠ¤ì— ëŒ€í•´ í•˜ë‚˜ì˜ ë¡œê·¸ì¸ ë§Œí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ëˆì„ ì ˆì•½ í•  ìˆ˜ ìˆë‹¤.</p><p>ë¹„êµë¥¼ ìœ„í•´ EC2ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì„ ê²½ìš° ì§€ë¶ˆ í•  ê²ƒìœ¼ë¡œ ê¸°ëŒ€í•  ìˆ˜ìˆëŠ” ëª‡ ê°€ì§€ ì˜ˆê°€ ìˆë‹¤.</p><p>20,000 ê°œì˜ ì´ë©”ì¼ - $ 2.00 / ì›”<br>200,000 ê°œì˜ ì´ë©”ì¼ - $ 20.00 / ì›”<br>ì „ìš© IP - $ 24.95 / ì›”</p><p><strong>mailgun</strong><br>Mailgunì—ëŠ” pay-as-you-go ê³„íšê³¼ ê³„ì¸µ í˜• ê°€ê²© ì±…ì •ì´ ìˆë‹¤. ì§€ë¶ˆ ë°©ì‹ëŒ€ë¡œ ìš”ê¸ˆì œëŠ” 10,000 ê°œì˜ ì´ë©”ì¼ì„ ë¬´ë£Œë¡œ ë°›ê³  1,000 ê°œì˜ ì´ë©”ì¼ ë‹¹ $ 0.50ì˜ ìš”ê¸ˆì„ ë¶€ê³¼í•œë‹¤.</p><p>ê³„ì¸µ í˜• ê°€ê²© ì •ì±…ì€ ì›” 79 ë‹¬ëŸ¬ë¶€í„° ì‹œì‘í•˜ë©° ì „ìš© IP ì£¼ì†Œì™€ 100,000 ê°œì˜ ì „ì ë©”ì¼ì´ í¬í•¨ëœë‹¤.</p><p>ê³„ì¸µí™” ëœ ê³„íšì´ ì—†ë‹¤ë©´ Mailgunì˜ ì „ìš© IP ì£¼ì†ŒëŠ” Amazon SESë³´ë‹¤ ë‘ ë°° ì´ìƒ, ì „ìš© IP ë‹¹ $ 59ê°€ ì†Œìš”ëœë‹¤. ì´ ë¹„êµëŠ” ë˜í•œ ê·€í•˜ê°€ ë¯¸êµ­ ì§€ì—­ì„ ì‚¬ìš©í•˜ê³  ìˆë‹¤ê³  ê°€ì •</p><p>ìœ ëŸ½ì˜ ì§€ì—­ì€ ìš”ê¸ˆì œ ë° ìš”ê¸ˆì œì— ë”°ë¼ ì¶”ê°€ ìš”ê¸ˆì„ ë¶€ê³¼ í•  ìˆ˜ ìˆë‹¤.</p><p>ê·¸ë¦¬ê³ ì´ ê¸°ì‚¬ì˜ ì•ë¶€ë¶„ì—ì„œ ì–¸ê¸‰ í•œ ì´ë©”ì¼ ê²€ì¦ APIëŠ” ì¶”ê°€ ë¹„ìš©ì´ ë“¤ì§€ë§Œ,ì´ ë¹„êµë¥¼ ìœ„í•´ ì´ë¥¼ ì œì™¸í•˜ê³  ìˆë‹¤.</p><p>20,000 ê°œì˜ ì´ë©”ì¼ - ì›” $ 5.00<br>200,000 ê°œì˜ ì´ë©”ì¼ - ë§¤ì›” $ 95 (ë‹¹ì‹ ì´ê°€ëŠ”ëŒ€ë¡œ ì§€ë¶ˆ)<br>200,000 ê°œì˜ ì´ë©”ì¼ - ì›” $ 139.00 (ê³„ì¸µí™” ëœ ê°€ê²© + IP ì£¼ì†Œ í¬í•¨)<br>ì „ìš© IP - ì›” $ 59.00</p><p><strong>SendGrid</strong><br>SendGridëŠ” ì²˜ìŒ 30 ì¼ ë™ì•ˆ 40,000 ê°œì˜ ì´ë©”ì¼ì„ ì œê³µí•˜ëŠ” ë¬´ë£Œ ê³„íšë¶€í„° ëª‡ ê°€ì§€ ê³„íšì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ê·¸ í›„ ë¬´ë£Œ í”Œëœì€ í•˜ë£¨ì— 100 ê°œì˜ ì´ë©”ì¼ë¡œ ì œí•œë˜ì–´ ìˆë‹¤.</p><p>í•˜ë£¨ì— 100 ê°œê°€ ë„˜ëŠ” ê²½ìš° ìœ ë£Œ ìš”ê¸ˆì œ ì¤‘ í•˜ë‚˜ë¥¼ ì‚¬ìš©í•´ì•¼í•œë‹¤. ì›”ê°„ 14.95 ë‹¬ëŸ¬ì—ì„œ ìµœëŒ€ 4 ë§Œ ê°œì˜ ì´ë©”ì¼ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. </p><p>í•œ ë‹¬ì— 30 ë‹¬ëŸ¬ì˜ ì „ìš© IP ì£¼ì†Œë¥¼ ì¶”ê°€ í•  ìˆ˜ ìˆìœ¼ë©°, ì´ë©”ì¼ ë§ˆì¼€íŒ… ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ë ¤ëŠ” ê²½ìš° ì¶”ê°€ ìš”ê¸ˆì´ ë¶€ê³¼.</p><p>20,000 ê°œì˜ ì´ë©”ì¼ - $ 14.95 / ì›”<br>200,000 ê°œì˜ ì´ë©”ì¼ - $ 104.95 / ì›”<br>ì „ìš© IP - $ 30.00 / ì›”</p><hr><h3 id="Final-Opinion-ê²°ë¡ "><a href="#Final-Opinion-ê²°ë¡ " class="headerlink" title="Final Opinion(ê²°ë¡ )"></a>Final Opinion(ê²°ë¡ )</h3><p>Mailgunì€ ë§ì€ ì´ë©”ì¼ì„ ë³´ë‚´ì§€ ì•ŠëŠ” ì†Œê·œëª¨ ì‚¬ì´íŠ¸ì— ì›”ê°„ 10,000 í¸ì˜ ë¬´ë£Œ ì´ë©”ì¼ì„ ì œê³µ í•  ìˆ˜ìˆëŠ” ìµœì„ ì˜ ì„ íƒ ì¼ ìˆ˜ ìˆë‹¤. </p><p>SESëŠ” ë§ì€ ì´ë©”ì¼ì„ ë³´ë‚´ê±°ë‚˜ ì´ë¯¸ ë‹¤ë¥¸ AWS ì„œë¹„ìŠ¤ (íŠ¹íˆ Amazon EC2)ë¥¼ ì‚¬ìš©í•˜ê³ ìˆëŠ” ê°œë°œì ë‚˜ ì‚¬ì´íŠ¸ ì†Œìœ ìì—ê²Œ ë” ì˜ë¯¸ê°€ ìˆë‹¤. </p><p>ë˜í•œ ê°€ì¥ ì €ë ´í•˜ê²Œ ì´ë©”ì¼ ì„œë¹„ìŠ¤ë¥¼ ì´ìš© í•  ìˆ˜ ìˆë‹¤.</p><p>SendGridëŠ” ê°€ê²©ì´ë‚˜ ì„œë¹„ìŠ¤ë©´ì—ì„œ ì „ë°˜ì ìœ¼ë¡œ ìš°ìˆ˜í•˜ê³   ì´ë©”ì¼ ë§ˆì¼€íŒ… ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì‚¬ìš©í•˜ë ¤ëŠ” ê²½ìš° í›Œë¥­í•œ ì˜µì…˜ì´ë‹¤.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;AWS-SES-vs-SendGrid-vs-Mailgun&quot;&gt;&lt;a href=&quot;#AWS-SES-vs-SendGrid-vs-Mailgun&quot; class=&quot;headerlink&quot; title=&quot;AWS SES vs SendGrid vs Mailgun&quot;&gt;
      
    
    </summary>
    
      <category term="service" scheme="https://skarlsla.github.io/categories/service/"/>
    
    
      <category term="email api" scheme="https://skarlsla.github.io/tags/email-api/"/>
    
      <category term="í•´ì™¸ email" scheme="https://skarlsla.github.io/tags/%ED%95%B4%EC%99%B8-email/"/>
    
  </entry>
  
  <entry>
    <title>[í•´ì™¸ SMS] twilio vs nexmo</title>
    <link href="https://skarlsla.github.io/2019/07/23/service-message/"/>
    <id>https://skarlsla.github.io/2019/07/23/service-message/</id>
    <published>2019-07-23T05:43:15.000Z</published>
    <updated>2019-07-23T06:41:58.670Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Features-and-Services-ê¸°ëŠ¥-ì„œë¹„ìŠ¤"><a href="#Features-and-Services-ê¸°ëŠ¥-ì„œë¹„ìŠ¤" class="headerlink" title="Features and Services(ê¸°ëŠ¥ ì„œë¹„ìŠ¤)"></a>Features and Services(ê¸°ëŠ¥ ì„œë¹„ìŠ¤)</h3><p>Both platforms are very similar in the functions, features and services they provide users.</p><p>ë‘ í”Œë«í¼ ëª¨ë‘ ì‚¬ìš©ìì—ê²Œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥, ê¸°ëŠ¥ ë° ì„œë¹„ìŠ¤ë©´ì—ì„œ ë§¤ìš° ìœ ì‚¬í•©ë‹ˆë‹¤.</p><p>With Voice, SMS, and Authentication available from both Nexmo and Twilio, the key differences lie in not only the specific features included for each section, but also what functions if any the platforms include beyond these three.</p><p>Nexmoì™€ Twilioì—ì„œ ìŒì„±, SMS ë° ì¸ì¦ì„ ì‚¬ìš©í•  ìˆ˜ìˆëŠ” ì£¼ìš” ì°¨ì´ì ì€ ê° ì„¹ì…˜ì— í¬í•¨ ëœ íŠ¹ì • ê¸°ëŠ¥ë¿ë§Œ ì•„ë‹ˆë¼ì´ ì„¸ ê°€ì§€ë¥¼ ë„˜ì–´ í”Œë«í¼ì´ í¬í•¨ë  ê²½ìš° ì–´ë–¤ ê¸°ëŠ¥ì´ ìˆëŠ”ì§€ì— ìˆìŠµë‹ˆë‹¤.</p><p>I rounded up the most relevant information provided by both Nexmo and Twilio to offer as close to a complete comparison as possible.</p><p>Nexmoì™€ Twilioê°€ ì œê³µ í•œ ê°€ì¥ ê´€ë ¨ì„± ë†’ì€ã…ˆ ì •ë³´ë¥¼ ê°€ëŠ¥í•œ í•œ ì™„ë²½í•˜ê²Œ ë¹„êµí•  ìˆ˜ ìˆë„ë¡ ì œê³µí–ˆìŠµë‹ˆë‹¤.</p><h3 id="Messaging"><a href="#Messaging" class="headerlink" title="Messaging"></a>Messaging</h3><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/messagin.png" alt="messaging"></p><p>â€» ë„¥ìŠ¤ëª¨ì˜ Free Inbound SMS  ì •ì±…ì€ í˜„ì¬ ìœ ë£Œë¡œ ë°”ë€ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤.</p><h3 id="Authentication"><a href="#Authentication" class="headerlink" title="Authentication"></a>Authentication</h3><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/auth.png" alt="auth"></p><h3 id="Pricing-ê°€ê²©"><a href="#Pricing-ê°€ê²©" class="headerlink" title="Pricing(ê°€ê²©)"></a>Pricing(ê°€ê²©)</h3><p>When it comes to the pricing of these platforms, the paradigm is different from what we have seen when comparing VoIP providers or even Team Collaboration apps. Generally, the cost of a platform is a reoccurring monthly fee based on the active users â€“ however with Nexmo and Twilio, pricing is broken down between the phone numbers your account owns, and the incoming our out coming communications that occur. Pricing will of course differ between outbound and inbound messages, as well as between voice, SMS or authentication functions.</p><p>ì´ëŸ¬í•œ í”Œë«í¼ì˜ ê°€ê²© ì²´ê³„ëŠ”  VoIP ê³µê¸‰ì ë˜ëŠ” Team Collaboration ì‘ìš© í”„ë¡œê·¸ë¨ì„ ë¹„êµí•  ë•Œ ë³´ì•˜ë˜ ê²ƒê³¼ ë‹¤ë¦…ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ í”Œë«í¼ ë¹„ìš©ì€ í™œì„± ì‚¬ìš©ìë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì›”ë³„ ìš”ê¸ˆì´ ë‹¤ì‹œ ë°œìƒí•©ë‹ˆë‹¤. Nexmo ë° Twilioë¥¼ ì‚¬ìš©í•˜ë©´ ê³„ì •ì—ìˆëŠ” ì „í™” ë²ˆí˜¸ì™€ ë°œìƒí•  ì™¸ë¶€ í†µí™”ì— ëŒ€í•œ ê°€ê²©ì´ ì±…ì •ë©ë‹ˆë‹¤. ë¬¼ë¡  ë°œì‹ , ìˆ˜ì‹  ë©”ì‹œì§€ëŠ” ë¬¼ë¡  ìŒì„±, SMS ë˜ëŠ” ì¸ì¦ ê¸°ëŠ¥ê°„ì— ê°€ê²©ì´ ë‹¤ë¦…ë‹ˆë‹¤.</p><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/pricing.png" alt="pricing"></p><p>Twilio Pricing : <a href="https://www.twilio.com/sms/pricing/us" target="_blank" rel="noopener">https://www.twilio.com/sms/pricing/us</a></p><p>Nexmo Pricing : <a href="https://www.nexmo.com/pricing" target="_blank" rel="noopener">https://www.nexmo.com/pricing</a></p><p>nexmoì†Œìˆ˜ì ì€ ìœ ë¡œ â†’ ë‹¬ëŸ¬ í™˜ì „ì— ë”°ë¥¸ ê°’ìœ¼ë¡œ ë³´ì´ê³  ìœ„ì˜ ë³´ë‚´ëŠ” ë©”ì„¸ì§€ëŠ” ë¯¸êµ­ ê¸°ì¤€ì´ì§€ë§Œ ë‹¤ë¥¸ ë‚˜ë¼ë„ ëŒ€ì²´ë¡œ ë¹„ìŠ·í•œ ìˆ˜ì¤€ì´ë‹¤.</p><h3 id="Support-ì§€ì›"><a href="#Support-ì§€ì›" class="headerlink" title="Support(ì§€ì›)"></a>Support(ì§€ì›)</h3><p>Of course for any Cloud platform, support is as crucial as the user experience â€“ if something ever goes wrong, you want to ensure help is there and that it will arrive within a reasonable window. With both Twilio and Nexmo, every account will start with standard, free yet limited, support. For a bit of a premium, users can upgrade their support to varying levels.</p><p>ë¬¼ë¡  í´ë¼ìš°ë“œ í”Œë«í¼ì˜ ê²½ìš° ì‚¬ìš©ì ê²½í—˜ë§Œí¼ ì§€ì›ì´ ì¤‘ìš”í•˜ë‹¤. ë¬¸ì œê°€ ë°œìƒí•  ê²½ìš° ë„ì›€ì´ ìˆì–´ì•¼ í•˜ë©° ì ì ˆí•œ ì‹œê°„ ë‚´ì— ë„ì›€ì´ ì œê³µë˜ë„ë¡ í•´ì•¼ í•œë‹¤. Twilioì™€ Nexmo ë‘˜ ë‹¤ì™€ í•¨ê»˜ ëª¨ë“  ê³„ì •ì€ ë¬´ë£Œì§€ë§Œ ì œí•œëœ ì§€ì›ìœ¼ë¡œ ì‹œì‘í•  ê²ƒì´ë‹¤. ì•½ê°„ì˜ í”„ë¦¬ë¯¸ì—„ì„ ìœ„í•´, ì‚¬ìš©ìë“¤ì€ ê·¸ë“¤ì˜ ì§€ì›ì„ ë‹¤ì–‘í•œ ìˆ˜ì¤€ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œí•  ìˆ˜ ìˆë‹¤.</p><p><strong>Twilio(<a href="https://www.twilio.com/support-plans" target="_blank" rel="noopener">https://www.twilio.com/support-plans</a>)</strong></p><p>Free â€“ Email only, no guaranteed response time<br>PRODUCTIONâ€“ 4% of monthly spend (or $250 minimum), depending on Priority level - Answer in business hours(3h,6h,9h)<br>BUSINESSâ€“ 6% of monthly spend (or $1,500 minimum), depending on Priority level - Answer in business hours(1h(24/7),6h,9h), Email and phone support (24/7)<br>PERSONALIZED â€“ 8% of monthly spend (or $5,000 minimum), depending on Priority level - Answer in business hours(1h(24/7),6h,9h), Email and phone support (24/7),Technical account manager,Support escalation line,Quarterly status review</p><p><strong>Nexmo(<a href="https://www.nexmo.com/pricing" target="_blank" rel="noopener">https://www.nexmo.com/pricing</a>)</strong></p><p>Standardâ€“  Support via email and web<br>Priority Supportâ€“ $1,500 a month for Support via chat, email, and web 24/7 escalation<br>Enterprise  - contact<br>The Bottom Line(ê²°ë¡ )<br>At the end of the day, both Twilio and Nexmo should satisfy the majority of users and developers. Both providers offer comparable features, functions, products and service. Both providers include detailed and rich docs for developers, as well as a well thought out design and a solid user experience. Both providers include comprehensive support, and allow users the option to upgrade support for 24Ã—7 coverage and personal engineers.</p><p>ë‘ íšŒì‚¬ ëª¨ë‘ ìœ ì‚¬í•œ ê¸°ëŠ¥, ê¸°ëŠ¥, ì œí’ˆ ë° ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤. </p><p>ë‘ íšŒì‚¬ ëª¨ë‘ ê°œë°œìë¥¼ìœ„í•œ ìƒì„¸í•˜ê³  í’ë¶€í•œ ë¬¸ì„œë¿ë§Œ ì•„ë‹ˆë¼ ì˜ ì„¤ê³„ëœ ë””ìì¸ê³¼ í™•ì‹¤í•œ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤. </p><p>ë‘ íšŒì‚¬ ëª¨ë‘ í¬ê´„ì  ì¸ ì§€ì›ì„ ì œê³µí•˜ë©° ì‚¬ìš©ìê°€ 24x7 ì»¤ë²„ë¦¬ì§€ ë° ê°œì¸ ì—”ì§€ë‹ˆì–´ ì§€ì›ì„ ì—…ê·¸ë ˆì´ë“œ í•  ìˆ˜ìˆëŠ” ì˜µì…˜ì„ ì œê³µí•©ë‹ˆë‹¤.</p><p>ë¹„ìŠ·í•œ ê°€ê²©ì— twilioê°€ ë” ë‚˜ì€ ê¸°ëŠ¥ê³¼ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ê²ƒ ê°™ë‹¤.</p><p>ê´€ë¦¬(console)ì˜ í¸ì˜ì„±ì´ë‚˜ ê°œë°œ(api)ì˜  í¸ë¦¬í•¨ì´ ë³´ì¸ë‹¤.</p><p>ë˜í•œ emailì„œë¹„ìŠ¤ì¸ sendgridë„ twilioì˜ ì„œë¹„ìŠ¤ì´ë‹¤. </p><h3 id="ì°¸ê³ ì‚¬ì´íŠ¸"><a href="#ì°¸ê³ ì‚¬ì´íŠ¸" class="headerlink" title="ì°¸ê³ ì‚¬ì´íŠ¸"></a>ì°¸ê³ ì‚¬ì´íŠ¸</h3><p><a href="https://getvoip.com/blog/2017/01/05/twilio-vs-nexmo/" target="_blank" rel="noopener">https://getvoip.com/blog/2017/01/05/twilio-vs-nexmo/</a><br><a href="https://www.twiilio.com/" target="_blank" rel="noopener">https://www.twiilio.com/</a><br><a href="https://www.nexmo.com" target="_blank" rel="noopener">https://www.nexmo.com</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Features-and-Services-ê¸°ëŠ¥-ì„œë¹„ìŠ¤&quot;&gt;&lt;a href=&quot;#Features-and-Services-ê¸°ëŠ¥-ì„œë¹„ìŠ¤&quot; class=&quot;headerlink&quot; title=&quot;Features and Services(ê¸°ëŠ¥ ì„œë¹„ìŠ¤)&quot;&gt;&lt;/a&gt;F
      
    
    </summary>
    
      <category term="service" scheme="https://skarlsla.github.io/categories/service/"/>
    
    
      <category term="sms" scheme="https://skarlsla.github.io/tags/sms/"/>
    
      <category term="email" scheme="https://skarlsla.github.io/tags/email/"/>
    
      <category term="í•´ì™¸sms" scheme="https://skarlsla.github.io/tags/%ED%95%B4%EC%99%B8sms/"/>
    
  </entry>
  
  <entry>
    <title>[SNS LOGIN] sns(kakao) login with javascript</title>
    <link href="https://skarlsla.github.io/2019/07/19/webserver-auth4/"/>
    <id>https://skarlsla.github.io/2019/07/19/webserver-auth4/</id>
    <published>2019-07-19T05:43:15.000Z</published>
    <updated>2019-07-19T06:46:57.190Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ê°„í¸ë¡œê·¸ì¸"><a href="#ê°„í¸ë¡œê·¸ì¸" class="headerlink" title="ê°„í¸ë¡œê·¸ì¸"></a>ê°„í¸ë¡œê·¸ì¸</h3><p>ì¹´ì¹´ì˜¤ì—ì„œ ê°„í¸ë¡œê·¸ì¸ìœ¼ë¡œ ios,android,javascript,restapië¥¼ ì œê³µí•œë‹¤.</p><p>restapiëŠ” ì•±ì„œë²„ì—ì„œ OAuth2.0ì¸ì¦ì— ë”°ë¼ ì¸ì¦ì½”ë“œë¡œ SNSë¡œ ì¡°íšŒ í›„ ë¡œê·¸ì¸(ì„¸ì…˜/í† í°) ì²˜ë¦¬ê¹Œì§€ ì²˜ë¦¬í–ˆë‹¤ë©´<br>javascript SDKë¥¼ ì‚¬ìš©í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë°”ë¡œ SNSë¡œê·¸ì¸ ê²°ê³¼ë¥¼ ë°›ì•„ì„œ ì²˜ë¦¬ë¥¼ í• ìˆ˜ìˆë‹¤.</p><hr><h3 id="javascript-ë¡œ-kakao-login"><a href="#javascript-ë¡œ-kakao-login" class="headerlink" title="javascript ë¡œ kakao login"></a>javascript ë¡œ kakao login</h3><ol><li><p><a href="https://developers.kakao.com" target="_blank" rel="noopener">https://developers.kakao.com</a> íšŒì›ê°€ì… &amp; ë¡œê·¸ì¸</p></li><li><p>ì•±ë§Œë“¤ê¸° &amp; í”Œë«í¼ ì‚¬ì´íŠ¸ ì¶”ê°€<br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/app_creI.jpg" alt="ì‚¬ì´íŠ¸ ì¶”ê°€"></p></li><li><p>ì‚¬ìš©ìê´€ë¦¬ &amp; ë“±ë¡<br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/user.jpg" alt="ì‚¬ìš©ìê´€ë¦¬"></p></li><li><p>ê°œì¸ì •ë³´ ë™ì˜<br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/agree.jpg" alt="ì‚¬ìš©ìê´€ë¦¬"></p></li><li><p>javascript ì½”ë“œ with html</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">"utf-8"</span> /&gt;</span><br><span class="line">    &lt;meta http-equiv=<span class="string">"X-UA-Compatible"</span> content=<span class="string">"IE=edge"</span> /&gt;</span><br><span class="line">    &lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width"</span> /&gt;</span><br><span class="line">    &lt;title&gt;Login Demo - Kakao JavaScript SDK&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">    &lt;script src="/</span><span class="regexp">/developers.kakao.com/</span>sdk/js/kakao.min.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">    &lt;a id="</span>kakao-login-btn<span class="string">"&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href="</span>http:<span class="comment">//developers.kakao.com/logout"&gt;&lt;/a&gt;</span></span><br><span class="line">    &lt;script type=<span class="string">'text/javascript'</span>&gt;</span><br><span class="line">        <span class="comment">//&lt;![CDATA[</span></span><br><span class="line">        <span class="comment">// ì‚¬ìš©í•  ì•±ì˜ JavaScript í‚¤ë¥¼ ì„¤ì •í•´ ì£¼ì„¸ìš”.</span></span><br><span class="line">        Kakao.init(<span class="string">'javascript key ì…ë ¥'</span>);</span><br><span class="line">        <span class="comment">// ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ë²„íŠ¼ì„ ìƒì„±í•©ë‹ˆë‹¤.</span></span><br><span class="line">        Kakao.Auth.createLoginButton(&#123;</span><br><span class="line">            container: <span class="string">'#kakao-login-btn'</span>,</span><br><span class="line">            success: <span class="function"><span class="keyword">function</span> (<span class="params">authObj</span>) </span>&#123;</span><br><span class="line">                alert(<span class="built_in">JSON</span>.stringify(authObj));</span><br><span class="line">            &#125;,</span><br><span class="line">            fail: <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">                alert(<span class="built_in">JSON</span>.stringify(err));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      <span class="comment">//]]&gt;</span></span><br><span class="line">    &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>node í™˜ê²½ì€ ìƒëµ</p></li><li><p>node.jsë¡œ ê°„í¸í•˜ê²Œ ì‹¤í–‰í•˜ê¸°(npmì€ express,body-parser,cookie-parser,multer ì„¤ì¹˜)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">   res.sendfile(<span class="string">'./index.html'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = app.listen(<span class="number">8000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> host = server.address().address</span><br><span class="line">   <span class="keyword">var</span> port = server.address().port</span><br><span class="line">   </span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">"Example app listening at http://%s:%s"</span>, host, port)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><p>server.js</p><ol start="7"><li><p>ì‹¤í–‰ node server.js</p></li><li><p>localhost:8000 ì ‘ì†<br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/kakao_agree.jpg" alt="ì‚¬ìš©ìê´€ë¦¬"></p></li><li><p>ë¡œê·¸ì¸ì°½<br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/kakao_login.png" alt="ë¡œê·¸ì¸"></p></li><li><p>ê²°ê³¼ë‚´ìš©<br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/kakao_return.jpg" alt="ê²°ê³¼ë‚´ìš©"></p></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;ê°„í¸ë¡œê·¸ì¸&quot;&gt;&lt;a href=&quot;#ê°„í¸ë¡œê·¸ì¸&quot; class=&quot;headerlink&quot; title=&quot;ê°„í¸ë¡œê·¸ì¸&quot;&gt;&lt;/a&gt;ê°„í¸ë¡œê·¸ì¸&lt;/h3&gt;&lt;p&gt;ì¹´ì¹´ì˜¤ì—ì„œ ê°„í¸ë¡œê·¸ì¸ìœ¼ë¡œ ios,android,javascript,restapië¥¼ ì œê³µí•œë‹¤.&lt;/p&gt;
&lt;p
      
    
    </summary>
    
      <category term="webserver" scheme="https://skarlsla.github.io/categories/webserver/"/>
    
    
      <category term="sns" scheme="https://skarlsla.github.io/tags/sns/"/>
    
      <category term="ê°„í¸ë¡œê·¸ì¸" scheme="https://skarlsla.github.io/tags/%EA%B0%84%ED%8E%B8%EB%A1%9C%EA%B7%B8%EC%9D%B8/"/>
    
  </entry>
  
  <entry>
    <title>[WEBSERVER] sns login (oauth2)</title>
    <link href="https://skarlsla.github.io/2019/07/18/webserver-auth3/"/>
    <id>https://skarlsla.github.io/2019/07/18/webserver-auth3/</id>
    <published>2019-07-18T02:43:15.000Z</published>
    <updated>2019-07-18T02:30:12.434Z</updated>
    
    <content type="html"><![CDATA[<h3 id="SNS-LOGIN"><a href="#SNS-LOGIN" class="headerlink" title="SNS LOGIN"></a>SNS LOGIN</h3><p><strong>ê°„í¸ë¡œê·¸ì¸</strong><br>ì›¹ ë˜ëŠ” ì•±ì„œë¹„ìŠ¤ì— ê°„í¸ë¡œê·¸ì¸ì€ ê¸°ë³¸ìœ¼ë¡œ ì¥ì°©ë˜ëŠ” ì¶”ì„¸ì´ë‹¤.</p><p>SNS ë¡œê·¸ì¸ì„ ì´ìš©í•˜ê¸°ì „ ê¸°ë°˜ ê¸°ìˆ ì„ ì •ë¦¬í•´ë³¸ë‹¤.</p><h3 id="OAuth2-0"><a href="#OAuth2-0" class="headerlink" title="OAuth2.0"></a>OAuth2.0</h3><p>OAuthëŠ” 3rd party(ì™¸ë¶€ì„œë¹„ìŠ¤) ì¸ì¦ ê³¼ í—ˆê°€ë¥¼ ìœ„í•œ í‘œì¤€ í”„ë¡œí† ì½œì´ë‹¤.<br>ITê¸°ì—…ì—ì„œ OPEN APIë¥¼ ì œê³µí• ë•Œ oauthë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë¹„ìŠ¤í•œë‹¤.<br>ëŒ€í‘œì ìœ¼ë¡œ í˜ì´ìŠ¤ë¶,êµ¬ê¸€,ë„¤ì´ë²„,ë‹¤ìŒì¹´ì¹´ì˜¤ ë“±ì´ ìˆê² ë‹¤.<br>ê³µí†µì ìœ¼ë¡œ ê° íšŒì‚¬ ê°œë°œìì§€ì›ì„¼í„°ì—ì„œ ê°€ì… í›„ ì•± í˜¹ì€ ì›¹ì„ ë§Œë“¤ì–´ì„œ ê°œë°œí‚¤ë¥¼ ë¶€ì—¬ë°›ê²Œë˜ê³ <br>ê°œë°œí‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ê° íšŒì‚¬ê°€ ì •ì˜í•œ APIì‚¬ìš©ë²•ì— ë”°ë¼ ì¸ì¦ í›„ AccessTokenì„ ë°œê¸‰ë°›ì•„ API ë“¤ì„ ì‚¬ìš© í•  ìˆ˜ìˆê²Œëœë‹¤.</p><hr><p><strong>ê¶Œí•œ íë¦„</strong><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/oauth.png" alt="oauth2.0"></p><ol><li>Resouce Owner(APIì œê³µì—…ì²´) ì¸ì¦ì½”ë“œ ìš”ì²­</li><li>ìš”ì²­ì„±ê³µì‹œ ì¸ì¦ì½”ë“œ(Authrization Grant) ì „ë‹¬</li><li>ì¸ì¦ì½”ë“œë¡œ Authorization Serverì— í† í°ìš”ì²­(AccessToken)</li><li>ìœ íš¨í•œ ì¸ì¦ì½”ë“œì¼ë•Œ í† í°ì „ë‹¬</li><li>í† í°ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ ìš”ì²­</li><li>í† í°ì´ ìœ íš¨í•œ ê²½ìš° ë¦¬ì†ŒìŠ¤ ì „ë‹¬</li></ol><hr><p><strong>íŠ¹ì§•</strong></p><ol><li>Oauth1.0ì—ì„œëŠ” ì•±ì—ì„œì˜ ì‚¬ìš©ì´ ì–´ë ¤ì› ë‹¤.</li><li>1.0ì˜ ë³µì¡í•œ êµ¬í˜„ê³¼ íë¦„ì„ ê°„ì†Œí™” í•˜ì˜€ë‹¤.</li><li>ë³„ë„ì˜ ì•”í˜¸ì²˜ë¦¬ ì—†ì´ HTTPSë¥¼ ì´ìš©í•œë‹¤.</li><li>HMACë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.</li><li>AccessToken ìœ íš¨ì‹œê°„ì„ ì§€ì •í• ìˆ˜ìˆë‹¤.</li></ol><hr><h3 id="SNS-ë¡œê·¸ì¸"><a href="#SNS-ë¡œê·¸ì¸" class="headerlink" title="SNS ë¡œê·¸ì¸?"></a>SNS ë¡œê·¸ì¸?</h3><p>SNSë¡œê·¸ì¸ì€  Oauth2.0ì˜ íë¦„ì— ì„œë²„ì¸ì¦ì„ ì¶”ê°€í•˜ë©´ ëœë‹¤.</p><p><strong>ë¡œê·¸ì¸ Flow</strong><br><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/snslogin.PNG" alt="sns login"></p><ol><li>ì‚¬ìš©ìê°€ ê°„í¸ë¡œê·¸ì¸ì„ ìš”ì²­</li><li>í•´ë‹¹ sns ë¡œê·¸ì¸ í˜ì´ì§€ ë¦¬ë‹¤ì´ë ‰íŠ¸</li><li>ë“±ë¡ëœ urlë¡œ ì½”ë“œì „ë‹¬</li><li>ì „ë‹¬ëœ ê¶Œí•œì½”ë“œ ê²€ì¦ </li><li>ê²€ì¦ì„±ê³µì‹œ í† í° ë° í”„ë¡œíŒŒì¼ ì œê³µ</li><li>í•´ë‹¹ ì •ë³´ë¡œ íšŒì›ì •ë³´ ì¸ì¦ì²˜ë¦¬</li><li>ì„¸ì…˜ ë˜ëŠ” í† í°ê¸°ë°˜ìœ¼ë¡œ ì¸ì¦ì²˜ë¦¬</li><li>ë¡œê·¸ì¸ ì„±ê³µ</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;SNS-LOGIN&quot;&gt;&lt;a href=&quot;#SNS-LOGIN&quot; class=&quot;headerlink&quot; title=&quot;SNS LOGIN&quot;&gt;&lt;/a&gt;SNS LOGIN&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;ê°„í¸ë¡œê·¸ì¸&lt;/strong&gt;&lt;br&gt;ì›¹ ë˜ëŠ” ì•±ì„œë¹„ìŠ¤ì— ê°„í¸ë¡œê·¸ì¸
      
    
    </summary>
    
      <category term="webserver" scheme="https://skarlsla.github.io/categories/webserver/"/>
    
    
      <category term="oauth" scheme="https://skarlsla.github.io/tags/oauth/"/>
    
      <category term="sns" scheme="https://skarlsla.github.io/tags/sns/"/>
    
      <category term="ê°„í¸ë¡œê·¸ì¸" scheme="https://skarlsla.github.io/tags/%EA%B0%84%ED%8E%B8%EB%A1%9C%EA%B7%B8%EC%9D%B8/"/>
    
  </entry>
  
  <entry>
    <title>[WEBSERVER] JWT(JSON WEB TOKEN)? </title>
    <link href="https://skarlsla.github.io/2019/07/17/webserver-auth2/"/>
    <id>https://skarlsla.github.io/2019/07/17/webserver-auth2/</id>
    <published>2019-07-17T08:43:11.000Z</published>
    <updated>2019-07-17T09:06:46.825Z</updated>
    
    <content type="html"><![CDATA[<hr><h3 id="JWT-JSON-Web-Token"><a href="#JWT-JSON-Web-Token" class="headerlink" title="JWT(JSON Web Token)?"></a>JWT(JSON Web Token)?</h3><p>JSONí˜•ì‹ìœ¼ë¡œ ì›¹ì—ì„œ ì‚¬ìš©í•˜ëŠ” í† í°? JSON ê°ì²´ë¡œì„œ ë‹¹ì‚¬ìê°„ì— ì•ˆì „í•˜ê²Œ ì •ë³´ë¥¼ ì „ì†¡í•  ìˆ˜ìˆëŠ” ì‘ê³ <br>ë…ë¦½ì  ì¸ ë°©ë²•ì„ ì •ì˜í•˜ëŠ” ê³µê°œ í‘œì¤€ ( RFC 7519 )ì´ë¼ê³  í•œë‹¤.  </p><p><strong>ì‚¬ìš©?</strong><br>í† í°ê¸°ë°˜ì¸ì¦ì— ì‚¬ìš©í•˜ê±°ë‚˜ ì•ˆì „í•œ ì •ë³´êµí™˜ì´ í•„ìš”í• ë•Œ ìœ ìš©í•˜ë‹¤ê³  í•œë‹¤.</p><p><strong>êµ¬ì¡°?</strong><br>.ì„ êµ¬ë¶„ìë¡œ 3ê°€ì§€ì˜ ë¬¸ìì—´ë¡œ ë˜ì–´ìˆë‹¤. í—¤ë”(header).ë‚´ìš©(payload).ì„œëª…(signature)</p><p><strong>í—¤ë”:</strong><br>{<br>  â€œtypâ€: â€œJWTâ€,  // í† í°íƒ€ì…<br>  â€œalgâ€: â€œHS256â€ // í•´ì‹± ì•Œê³ ë¦¬ì¦˜ì •ë³´<br>}</p><p><strong>ë‚´ìš©:</strong><br>ì •ë³´ì˜ í•œ â€˜ì¡°ê°â€™ ì„ í´ë ˆì„ì´ë¼ê³  í•œë‹¤.í´ë ˆì„ì€ ì‚¬ìš©ìì— ëŒ€í•œ í”„ë¡œí¼í‹°ë‚˜ ì†ì„±ì„ ë„£ëŠ”ë‹¤.<br>registered, public, private claimsìœ¼ë¡œ êµ¬ë¶„í•œë‹¤.</p><p>registered claim<br>ë¯¸ë¦¬ ì •ì˜ëœ claimìœ¼ë¡œì¨, í† í°ì— ëŒ€í•œ ì •ë³´ì´ë‹¤. </p><p>public claim<br>ê³µê°œì ì¸ claimì„ ëª…ì‹œí•˜ëŠ”ë°, ì¶©ëŒ ë°©ì§€ë¥¼ ìœ„í•´ URI í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•œë‹¤. </p><p>private claim<br>ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ê°€ í˜‘ì˜í•œ claimì„ ëª…ì‹œí•œë‹¤.<br>ì´ë¯¸ ì •í•´ì ¸ ìˆëŠ” ì´ë¦„ì„ ê°€ì§„ ì•„ë˜ì˜ 7ê°œì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ì„ ìˆ˜ ìˆë‹¤. </p><p>iss : Token ë°œí–‰ì(Issuer)<br>sub : Tokenì˜ ì œëª© (Subject)<br>aud : Token ì˜ ëŒ€ìƒì (Audience)<br>exp : Tokenì˜ ìœ íš¨í•œ ë‚ ì§œ ì •ë³´(Expiration time)<br>nbf : Token ì˜ ìœ íš¨ ì‹œì‘ ë‚ ì§œ ì •ë³´ (Not before)<br>iat : Tokenì˜ ë°œí–‰ëœ ë‚ ì§œ ì •ë³´(Issued At)<br>jti : Token ì˜ ê³ ìœ  ì‹ë³„ì(JWT ID) </p><p>Claimì„ JSON í–‰íƒœë¡œ ì •ì˜í•œë‹¤.</p><p>ì˜ˆì‹œ:<br>{<br>  â€œuserIdâ€:â€skarlâ€,<br>  â€œexpâ€: â€œ1485270000000â€,<br>  â€œroleâ€:[â€œadminâ€]<br>}<br>ì‚¬ìš©ì‹œì—ëŠ” BASE64 ì¸ì½”ë”©ì„ í†µí•´ì„œ ë¬¸ìì—´ë¡œ ë³€í™˜í•œë‹¤.</p><p><strong>ì„œëª…:</strong><br>ì„œëª…ì€ í—¤ë”ì˜ ì¸ì½”ë”©ê°’ê³¼, ì •ë³´ì˜ ì¸ì½”ë”©ê°’ì„ í•©ì¹œí›„ ì£¼ì–´ì§„ ë¹„ë°€í‚¤ë¡œ í•´ì‰¬ë¥¼ í•˜ì—¬ ìƒì„±í•œë‹¤.</p><p>ì„œëª…ì„ ë§Œë“œëŠ” ìˆ˜ë„ì½”ë“œ êµ¬ì¡°<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HMACSHA256(</span><br><span class="line">  base64UrlEncode(header) + &quot;.&quot; +</span><br><span class="line">  base64UrlEncode(payload),</span><br><span class="line">  &quot;kkkkmysecret&quot;)</span><br></pre></td></tr></table></figure></p><p>í•´ì‰¬ -&gt; base64ë¡œ ì¸ì½”ë”© í›„ ì‚¬ìš©</p><p>like this<br>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJza2FybCIsImV4cCI6IjE0ODUyNzAwMDAwMDAiLCJyb2xlIjpbImFkbWluIl19.jAafdBOQCoZkV-xMcJx0BCTH45AqYtf9mcdKog4ewjc</p><p><strong>example</strong><br><a href="https://jwt.io/" target="_blank" rel="noopener">https://jwt.io/</a> ê³µì‹ í™ˆí˜ì´ì§€ì—ì„œ í…ŒìŠ¤íŠ¸ í•´ë³¼ ìˆ˜ ìˆë‹¤.</p><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/JWT.PNG" alt="ê³µí™ˆ í…ŒìŠ¤íŠ¸"></p><hr>]]></content>
    
    <summary type="html">
    
      
      
        &lt;hr&gt;
&lt;h3 id=&quot;JWT-JSON-Web-Token&quot;&gt;&lt;a href=&quot;#JWT-JSON-Web-Token&quot; class=&quot;headerlink&quot; title=&quot;JWT(JSON Web Token)?&quot;&gt;&lt;/a&gt;JWT(JSON Web Token)?&lt;/h3&gt;
      
    
    </summary>
    
      <category term="webserver" scheme="https://skarlsla.github.io/categories/webserver/"/>
    
    
      <category term="oauth" scheme="https://skarlsla.github.io/tags/oauth/"/>
    
      <category term="jwt" scheme="https://skarlsla.github.io/tags/jwt/"/>
    
      <category term="ì¸ì¦" scheme="https://skarlsla.github.io/tags/%EC%9D%B8%EC%A6%9D/"/>
    
  </entry>
  
  <entry>
    <title>[WEBSERVER] session/cookie or token</title>
    <link href="https://skarlsla.github.io/2019/07/17/webserver-auth/"/>
    <id>https://skarlsla.github.io/2019/07/17/webserver-auth/</id>
    <published>2019-07-17T07:43:15.000Z</published>
    <updated>2019-07-18T01:24:48.854Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ì¸ì¦ë°©ì‹"><a href="#ì¸ì¦ë°©ì‹" class="headerlink" title="ì¸ì¦ë°©ì‹"></a>ì¸ì¦ë°©ì‹</h3><p><strong>1. ì„œë²„ê¸°ë°˜</strong><br>HTTPí”„ë¡œí† ì½œì„ ê¸°ë°˜ìœ¼ë¡œí•˜ëŠ” í†µì‹ ì—ì„œ clientê°€ ìš”ì²­ì‹œ í•œë²ˆ responseí›„ì—ëŠ” íŠ¹ë³„í•œ ì²˜ë¦¬ë¥¼ í•˜ì§€ ì•ŠëŠ”ì´ìƒ<br>ì ‘ì†ì„ ëŠëŠ”ë‹¤.  ë§Œì•½ ìµœì´ˆ ë¡œê·¸ì¸ì„ í–ˆë‹¤ê³  í•˜ë”ë¼ê³  ê·¸í›„ì— ìš”ì²­ì‹œ clientì˜ ì •ë³´ëŠ” ì—†ë‹¤ëŠ” ê²ƒì´ë‹¤.<br>ê·¸ë˜ì„œ ì„œë²„ì—ì„œ ì„¸ì…˜ì„ ë§Œë“¤ì–´ì£¼ê³  ì¿ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤.</p><p>ë¡œê·¸ì¸ -&gt; ì„œë²„ì—ì„œ session-id ìƒì„± ì „ë‹¬ -&gt; client sessionId ì¿ í‚¤ì— ì €ì¥ í›„ ì‚¬ìš© </p><p><strong>ì¥ë‹¨ì </strong><br>ì¼ë°˜ì ì¸ ì›¹ì„œë¹„ìŠ¤ì—ì„œ ë§ì´ ì“°ì´ëŠ” ì¸ì¦ë°©ì‹ì´ë‹¤. ì¿ í‚¤ìì²´ì— ì£¼ìš”ì •ë³´ê°€ ìˆì§€ ì•Šì•„ ì•ˆì „í•œí¸<br>ì„œë²„ì—ì„œ ì„¸ì…˜ë°ì¿ í‚¤ë¥¼ ê´€ë¦¬í•˜ê¸°ë•Œë¬¸ì— ì‚¬ìš©ìê°€ ë§ì•„ì§€ë©´ í™•ì¥ì´ í•„ìš”í•˜ë‹¤.<br>í™•ì¥ì„ ìœ„í•´ ë©”ëª¨ë¦¬DBë“±ì„ ì‚¬ìš©í•´ì•¼í•œë‹¤.</p><hr><h3 id="ì„¸ì…˜ê¸°ë°˜-íë¦„"><a href="#ì„¸ì…˜ê¸°ë°˜-íë¦„" class="headerlink" title="ì„¸ì…˜ê¸°ë°˜ íë¦„"></a>ì„¸ì…˜ê¸°ë°˜ íë¦„</h3><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/session-seq.PNG" alt="ì‹œí€€ìŠ¤ ë‹¤ì´ì–´~"></p><hr><p><strong>2. í† í°ê¸°ë°˜</strong><br>ì„œë²„ì—ì„œ ë°œí–‰í•œ í† í°ì„ ì´ìš©í•´ ì¸ì¦ì²˜ë¦¬ë¥¼ í•œë‹¤.</p><p>ìš”ì²­ì‹œ í—¤ë”ì— í† í°ê°’ì„ ë³´ë‚´ë©´ ì„œë²„ì—ì„œ í† í°ê²€ì¦ë§Œ í•˜ë©´ëœë‹¤.</p><p>ë¡œê·¸ì¸ -&gt; ì„œë²„ì—ì„œ ë¡œê¸´ì²˜ë¦¬í›„ tokenë°œê¸‰ -&gt; clientì—ì„œ ìš”ì²­ì‹œ í—¤ë”ì— token</p><p><strong>ì¥ë‹¨ì </strong><br>í™•ì¥ì„ ìœ„í•œ ë©”ëª¨ë¦¬DBë“±ì„ ì‚¬ìš©í•  í•„ìš”ì—†ë‹¤.<br>ì¿ í‚¤ë¡œ ì¸í•œ ì‚¬ì´íŠ¸ê°„ ìš”ì²­ìœ„ì¡°ë¥¼ ë°©ì§€ í• ìˆ˜ìˆë‹¤.<br>ë„ë©”ì¸ ìƒê´€ì—†ì´ í† í°ìœ¼ë¡œ ì¸ì¦<br>í† í° íƒˆì·¨ì‹œ ë³´ì•ˆì— ì·¨ì•½ í•˜ì§€ë§Œ refresh_tokenê³¼ access_tokenì˜ ì£¼ê¸° ì„¤ì •ìœ¼ë¡œ ì–´ëŠì •ë„ ë°©ì–´ê°€ëŠ¥</p><hr><h3 id="í† í°ê¸°ë°˜-íë¦„"><a href="#í† í°ê¸°ë°˜-íë¦„" class="headerlink" title="í† í°ê¸°ë°˜ íë¦„"></a>í† í°ê¸°ë°˜ íë¦„</h3><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/jwt-seq.PNG" alt="ì‹œí€€ìŠ¤ ë‹¤ì´ì–´~"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;ì¸ì¦ë°©ì‹&quot;&gt;&lt;a href=&quot;#ì¸ì¦ë°©ì‹&quot; class=&quot;headerlink&quot; title=&quot;ì¸ì¦ë°©ì‹&quot;&gt;&lt;/a&gt;ì¸ì¦ë°©ì‹&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;1. ì„œë²„ê¸°ë°˜&lt;/strong&gt;&lt;br&gt;HTTPí”„ë¡œí† ì½œì„ ê¸°ë°˜ìœ¼ë¡œí•˜ëŠ” í†µì‹ ì—ì„œ clientê°€ ìš”ì²­ì‹œ 
      
    
    </summary>
    
      <category term="webserver" scheme="https://skarlsla.github.io/categories/webserver/"/>
    
    
      <category term="oauth" scheme="https://skarlsla.github.io/tags/oauth/"/>
    
      <category term="session" scheme="https://skarlsla.github.io/tags/session/"/>
    
      <category term="jwt" scheme="https://skarlsla.github.io/tags/jwt/"/>
    
      <category term="ì¸ì¦" scheme="https://skarlsla.github.io/tags/%EC%9D%B8%EC%A6%9D/"/>
    
  </entry>
  
  <entry>
    <title>[JENKINS] pipeline ì‘ì„± </title>
    <link href="https://skarlsla.github.io/2019/07/11/jenkins-pipeline/"/>
    <id>https://skarlsla.github.io/2019/07/11/jenkins-pipeline/</id>
    <published>2019-07-11T10:11:03.000Z</published>
    <updated>2019-07-11T10:25:27.915Z</updated>
    
    <content type="html"><![CDATA[<hr><h3 id="git-lab-ì„¤ì •ì—ì„œ-webhook-push-Event-ì´í›„-ì‘ì„±-ì •ì˜-pipeline"><a href="#git-lab-ì„¤ì •ì—ì„œ-webhook-push-Event-ì´í›„-ì‘ì„±-ì •ì˜-pipeline" class="headerlink" title="git lab ì„¤ì •ì—ì„œ webhook (push Event) ì´í›„ ì‘ì„± ì •ì˜(pipeline)"></a>git lab ì„¤ì •ì—ì„œ webhook (push Event) ì´í›„ ì‘ì„± ì •ì˜(pipeline)</h3><p>pipeline script</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="string">pipeline</span> <span class="string">&#123;</span></span><br><span class="line">  <span class="string">agent</span> <span class="string">any</span></span><br><span class="line">     </span><br><span class="line">  <span class="string">tools</span> <span class="string">&#123;nodejs</span> <span class="string">"node"</span><span class="string">&#125;</span></span><br><span class="line">     </span><br><span class="line">  <span class="string">stages</span> <span class="string">&#123;</span>       </span><br><span class="line">    <span class="string">stage('Cloning</span> <span class="string">Git')</span> <span class="string">&#123;</span></span><br><span class="line">      <span class="string">steps</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="string">git</span> <span class="attr">url:</span> <span class="string">'https://xxx.xxxxx.com/bittorage/WebServer.git'</span><span class="string">,</span></span><br><span class="line"><span class="attr">        credentialsId:</span> <span class="string">'gitlab-skarl-passwd'</span><span class="string">,</span></span><br><span class="line"><span class="attr">        branch:</span> <span class="string">'develop'</span></span><br><span class="line">      <span class="string">&#125;</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line">         </span><br><span class="line">    <span class="string">stage('Install</span> <span class="string">dependencies')</span> <span class="string">&#123;</span></span><br><span class="line">      <span class="string">steps</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="string">sh</span> <span class="string">'npm install'</span></span><br><span class="line">      <span class="string">&#125;</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line">     </span><br><span class="line">    <span class="string">stage('Test')</span> <span class="string">&#123;</span></span><br><span class="line">      <span class="string">steps</span> <span class="string">&#123;</span></span><br><span class="line">         <span class="string">sh</span> <span class="string">'npm test'</span></span><br><span class="line">      <span class="string">&#125;</span></span><br><span class="line">    <span class="string">&#125;</span>  </span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><hr><h3 id="ì‹¤í–‰"><a href="#ì‹¤í–‰" class="headerlink" title="ì‹¤í–‰"></a>ì‹¤í–‰</h3><p><img src="https://raw.githubusercontent.com/skarlsla/skarlsla.github.io/master/css/image/pipeline.png" alt="ì‹¤í–‰"></p><h3 id="ë¡œê·¸"><a href="#ë¡œê·¸" class="headerlink" title="ë¡œê·¸"></a>ë¡œê·¸</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line">Started by GitLab push by </span><br><span class="line">Running in Durability level: MAX_SURVIVABILITY</span><br><span class="line">[Pipeline] Start of Pipeline</span><br><span class="line">[Pipeline] node</span><br><span class="line">Running on Jenkins in /var/lib/jenkins/workspace/pipe1</span><br><span class="line">[Pipeline] &#123;</span><br><span class="line">[Pipeline] stage</span><br><span class="line">[Pipeline] &#123; (Declarative: Tool Install)</span><br><span class="line">[Pipeline] tool</span><br><span class="line">[Pipeline] envVarsForTool</span><br><span class="line">[Pipeline] &#125;</span><br><span class="line">[Pipeline] // stage</span><br><span class="line">[Pipeline] withEnv</span><br><span class="line">[Pipeline] &#123;</span><br><span class="line">[Pipeline] stage</span><br><span class="line">[Pipeline] &#123; (Cloning Git)</span><br><span class="line">[Pipeline] tool</span><br><span class="line">[Pipeline] envVarsForTool</span><br><span class="line">[Pipeline] withEnv</span><br><span class="line">[Pipeline] &#123;</span><br><span class="line">[Pipeline] git</span><br><span class="line">using credential gitlab-skarl-passwd</span><br><span class="line"> &gt; git rev-parse --is-inside-work-tree # timeout=10</span><br><span class="line">Fetching changes from the remote Git repository</span><br><span class="line"> &gt; git config remote.origin.url https://xxx.xxxxxxx.com/bittorage/WebServer.git # timeout=10</span><br><span class="line">Fetching upstream changes from https://xxx.xxxxxxx.com/bittorage/WebServer.git</span><br><span class="line"> &gt; git --version # timeout=10</span><br><span class="line">using GIT_ASKPASS to set credentials gitlab-skarl-passwd</span><br><span class="line"> &gt; git fetch --tags --progress https://xxx.xxxxxxx.com/bittorage/WebServer.git +refs/heads/*:refs/remotes/origin/*</span><br><span class="line">skipping resolution of commit remotes/origin/develop, since it originates from another repository</span><br><span class="line"> &gt; git rev-parse refs/remotes/origin/develop^&#123;commit&#125; # timeout=10</span><br><span class="line"> &gt; git rev-parse refs/remotes/origin/origin/develop^&#123;commit&#125; # timeout=10</span><br><span class="line">Checking out Revision 449b52612009786e6e7ae37841f57b3602fc89ff (refs/remotes/origin/develop)</span><br><span class="line"> &gt; git config core.sparsecheckout # timeout=10</span><br><span class="line"> &gt; git checkout -f 449b52612009786e6e7ae37841f57b3602fc89ff</span><br><span class="line"> &gt; git branch -a -v --no-abbrev # timeout=10</span><br><span class="line"> &gt; git branch -D develop # timeout=10</span><br><span class="line"> &gt; git checkout -b develop 449b52612009786e6e7ae37841f57b3602fc89ff</span><br><span class="line">Commit message: &quot;ëª¨ì¹´ í…ŒìŠ¤íŠ¸ ì˜ˆì œ  ì¶”ê°€&quot;</span><br><span class="line"> &gt; git rev-list --no-walk a7271488613cc3aeb66bd06be08603e458a57c40 # timeout=10</span><br><span class="line">[Pipeline] &#125;</span><br><span class="line">[Pipeline] // withEnv</span><br><span class="line">[Pipeline] &#125;</span><br><span class="line">[Pipeline] // stage</span><br><span class="line">[Pipeline] stage</span><br><span class="line">[Pipeline] &#123; (Install dependencies)</span><br><span class="line">[Pipeline] tool</span><br><span class="line">[Pipeline] envVarsForTool</span><br><span class="line">[Pipeline] withEnv</span><br><span class="line">[Pipeline] &#123;</span><br><span class="line">[Pipeline] sh</span><br><span class="line">+ npm install</span><br><span class="line">npm WARN webserver@0.1.0 No repository field.</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.6 (node_modules/fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.6: wanted &#123;&quot;os&quot;:&quot;darwin&quot;,&quot;arch&quot;:&quot;any&quot;&#125; (current: &#123;&quot;os&quot;:&quot;linux&quot;,&quot;arch&quot;:&quot;x64&quot;&#125;)</span><br><span class="line"> </span><br><span class="line">audited 17564 packages in 18.837s</span><br><span class="line">found 7 vulnerabilities (1 moderate, 6 high)</span><br><span class="line">  run `npm audit fix` to fix them, or `npm audit` for details</span><br><span class="line">[Pipeline] &#125;</span><br><span class="line">[Pipeline] // withEnv</span><br><span class="line">[Pipeline] &#125;</span><br><span class="line">[Pipeline] // stage</span><br><span class="line">[Pipeline] stage</span><br><span class="line">[Pipeline] &#123; (Test)</span><br><span class="line">[Pipeline] tool</span><br><span class="line">[Pipeline] envVarsForTool</span><br><span class="line">[Pipeline] withEnv</span><br><span class="line">[Pipeline] &#123;</span><br><span class="line">[Pipeline] sh</span><br><span class="line">+ npm test</span><br><span class="line"> </span><br><span class="line">&gt; webserver@0.1.0 test /var/lib/jenkins/workspace/pipe1</span><br><span class="line">&gt; mocha ./test/Websocket.test.ts --exit</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">  Sample route</span><br><span class="line">Server is running in process 11973 listening on PORT 1344</span><br><span class="line"> </span><br><span class="line">Parsing session from request...</span><br><span class="line">no passport</span><br><span class="line">JHnljEKqdbSt48woI0AdXGC6IAZZnU91</span><br><span class="line">open</span><br><span class="line">undefined</span><br><span class="line">&#123;&quot;trCode&quot;:42,&quot;message&quot;: &#123;&#125; &#125;</span><br><span class="line">code= &#123; trCode: 42, message: &#123;&#125; &#125;</span><br><span class="line">setStorageSock</span><br><span class="line">2019-04-24 10:53:00,528 INFO [STORAGE:NOTICE:CONTROLLER] StorageNoticeController init</span><br><span class="line">faq key= 42</span><br><span class="line">msg Cannot read property &apos;publish&apos; of undefined</span><br><span class="line">key=== 42</span><br><span class="line">&#123; networkType: 0,</span><br><span class="line">  trCode: 42,</span><br><span class="line">  result: 0,</span><br><span class="line">  message:</span><br><span class="line">   [ &#123; createDate: null, lastModifiedDate: null &#125;] &#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">    âœ“ STORAGE Test (104ms)</span><br><span class="line">after</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">  1 passing (191ms)</span><br><span class="line"> </span><br><span class="line">[Pipeline] &#125;</span><br><span class="line">[Pipeline] // withEnv</span><br><span class="line">[Pipeline] &#125;</span><br><span class="line">[Pipeline] // stage</span><br><span class="line">[Pipeline] &#125;</span><br><span class="line">[Pipeline] // withEnv</span><br><span class="line">[Pipeline] &#125;</span><br><span class="line">[Pipeline] // node</span><br><span class="line">[Pipeline] End of Pipeline</span><br><span class="line">Triggering a new build of ansible-project #2</span><br><span class="line">Finished: SUCCESS</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;hr&gt;
&lt;h3 id=&quot;git-lab-ì„¤ì •ì—ì„œ-webhook-push-Event-ì´í›„-ì‘ì„±-ì •ì˜-pipeline&quot;&gt;&lt;a href=&quot;#git-lab-ì„¤ì •ì—ì„œ-webhook-push-Event-ì´í›„-ì‘ì„±-ì •ì˜-pipeline&quot; class=&quot;headerli
      
    
    </summary>
    
      <category term="DevOps" scheme="https://skarlsla.github.io/categories/DevOps/"/>
    
    
      <category term="jenkins" scheme="https://skarlsla.github.io/tags/jenkins/"/>
    
      <category term="pipeline" scheme="https://skarlsla.github.io/tags/pipeline/"/>
    
  </entry>
  
</feed>
